import{bw as b,Z as Ve,a as He,m as Qe,r as ne,a8 as qe,a9 as Je,q as Ye,b as Ze,bv as Ke,bx as Xe,t as s,j as e,C as de,P as _e,S as g,T as i,B as t,y as A,aJ as O,v as j,I as y,w as C,f as se,b6 as eo,x as z,A as oo,V as D,aj as ie,aY as ro,aG as to,W as no,aI as so,U as io,s as ae,G as le}from"./index-D1uGZ479.js";import{S as ce}from"./Selector-QPTNyfun.js";import{S as ao}from"./SwapHoriz-bVCPY_Tm.js";import{C as lo}from"./CheckCircle-FNLtkmtk.js";import{E as co}from"./ErrorOutline-BvOypDnk.js";import{A as mo}from"./AccessTime-BzM-o6xa.js";import{M as uo}from"./MoneyOff-BO2KJnYu.js";import{C as xo}from"./Card-k7dLw_5a.js";import"./KeyboardArrowDown-rOuSl0HJ.js";const ho=b.object({mt5Login:b.string().min(1,"Please select at least one option"),to:b.string().min(1,"Please select at least one option"),type:b.string(),amount:b.coerce.number().positive("Amount must be greater than 0")}),n={primaryTeal:"#14b8a6",primaryBlue:"#1a5fb4",darkBlue:"#0d2b5e",lightBlue:"#5dade2",white:"#ffffff",mediumGray:"#e2e8f0",textGray:"#475569",backgroundGray:"#f1f5f9"};function fo(){var J,Y,Z,K,X,_;const me=Ve(),L=He(),o=Qe("(max-width:600px)"),[$,R]=ne.useState(null),[ue,xe]=ne.useState(""),E={mt5Login:"",to:"",type:"2",amount:""},{register:F,handleSubmit:he,reset:fe,watch:u,setValue:P,formState:{errors:x,isValid:pe}}=qe({resolver:Je(ho),defaultValues:E,mode:"onChange"}),G=u("mt5Login"),I=u("amount"),U=I?parseFloat(I).toFixed(2):"0.00",{token:be}=Ye(r=>r.auth),{data:h,isLoading:f,refetch:ge}=Ze(void 0,{skip:!be,refetchOnMountOrArgChange:!0}),N=(Y=(J=h==null?void 0:h.data)==null?void 0:J.assetData)==null?void 0:Y.mainBalance,V=f?[]:(X=(K=(Z=h==null?void 0:h.data)==null?void 0:Z.mt5AccountList)==null?void 0:K.filter(r=>(r==null?void 0:r.accountType)=="REAL"))==null?void 0:X.map(r=>r==null?void 0:r.Login),[je,{isLoading:ye,isError:Ce,error:Se}]=Ke(),[ve,{isLoading:we,isError:ke,error:ze}]=Xe(),Ie=()=>{me(-1)},B=ye||we,Be=Ce||ke,S=Se||ze,p=(r,ee)=>{R(r.currentTarget),xe(ee)},We=()=>{R(null)},H=!!$,Te=H?"transfer-form-popover":void 0,Me=`• Internal transfers are processed instantly
• No fees for transfers between your accounts
• Available 24/7 for your convenience
• All transfers are secured with encryption`,Ae=`• Select the account you want to transfer FROM
• Choose from your MT5 trading accounts or Wallet
• Make sure you have sufficient balance
• Transfers are instant and free`,Oe=`• Select the account you want to transfer TO
• Choose from your MT5 trading accounts or Wallet
• Cannot transfer to the same account
• All transfers are processed in real-time`,De=`• Enter the amount you want to transfer
• Minimum transfer amount: $10
• Maximum transfer amount depends on account balance
• Amount should be in USD`,Le=`• Transfer amount: ${U} USD
• Processing time: Instant
• Fees: $0.00
• Security: Encrypted transfer`,$e=n.white,v=n.white,l=n.mediumGray,c=n.darkBlue,d=n.textGray,a=n.primaryTeal,Re=s(n.primaryBlue,.08),Ee=s(n.primaryBlue,.2);s("#ed6c02",.08),s("#ed6c02",.2);const w=s("#2e7d32",.08),k=s("#2e7d32",.2),Fe=s("#d32f2f",.08),Pe=s("#d32f2f",.2),Q=s(n.primaryTeal,.08),q=s(n.primaryTeal,.2);s(n.lightBlue,.05),`${s(n.primaryTeal,.1)}${s(n.lightBlue,.1)}`;const W=s(n.primaryTeal,.1),T=s(n.primaryBlue,.1),M=s(n.backgroundGray,.5),Ge=async r=>{var re,te;const oe={mt5Login:(r==null?void 0:r.mt5Login).includes("Wallet")?r==null?void 0:r.to:r==null?void 0:r.mt5Login,type:r==null?void 0:r.type,amount:r==null?void 0:r.amount};try{const m=G.includes("Wallet")?await je(oe).unwrap():await ve(oe).unwrap();m!=null&&m.status&&(L(ae({open:!0,message:"Transfer completed successfully!",severity:"success"})),fe(E),ge())}catch(m){(re=m==null?void 0:m.data)!=null&&re.status||L(ae({open:!0,message:((te=m==null?void 0:m.data)==null?void 0:te.message)||"Failed to complete transfer. Please try again.",severity:"error"}))}},Ue=f?[]:[...V,`Wallet (${N?N.toFixed(2):"0.00"} USD)`],Ne=f?[]:[...V,"Wallet"];return e.jsxs(de,{maxWidth:"lg",sx:{py:o?1.5:3,height:"100vh",overflow:"hidden",backgroundColor:$e,px:o?1.5:3},children:[e.jsx(_e,{id:Te,open:H,anchorEl:$,onClose:We,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{p:2,maxWidth:300,borderRadius:2,boxShadow:"0 8px 32px rgba(0,0,0,0.1)",border:`1px solid ${l}`,bgcolor:v}},children:e.jsxs(g,{spacing:1,children:[e.jsx(i,{variant:"subtitle2",fontWeight:600,color:a,children:"Information"}),e.jsx(i,{variant:"body2",color:d,sx:{whiteSpace:"pre-line",fontSize:"0.8rem"},children:ue})]})}),e.jsxs(t,{sx:{height:"calc(100vh - 40px)",display:"flex",flexDirection:"column",gap:1.5},children:[e.jsx(A,{elevation:0,sx:{p:o?1.2:2,borderRadius:1.5,border:`1px solid ${l}`,backgroundColor:v,boxShadow:"0 1px 3px rgba(0,0,0,0.05)",flexShrink:0},children:e.jsxs(O,{container:!0,alignItems:"center",spacing:1.5,children:[e.jsx(O,{item:!0,xs:8,sm:9,children:e.jsxs(g,{direction:"row",alignItems:"center",spacing:1.2,children:[e.jsx(t,{sx:{width:36,height:36,borderRadius:1.5,bgcolor:Q,display:"flex",alignItems:"center",justifyContent:"center",border:`1px solid ${q}`},children:e.jsx(ao,{sx:{color:a,fontSize:o?"1.2rem":"1.5rem"}})}),e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(i,{variant:o?"h6":"h5",fontWeight:600,color:c,children:"Internal Transfer"}),e.jsx(j,{title:"Transfer information",children:e.jsx(y,{size:"small",onClick:r=>p(r,Me),sx:{color:a,p:.3,"&:hover":{bgcolor:W}},children:e.jsx(C,{fontSize:"small"})})})]}),e.jsx(i,{variant:"caption",color:d,children:"Transfer funds between your accounts instantly"})]})]})}),e.jsx(O,{item:!0,xs:4,sm:3,sx:{textAlign:"right"},children:e.jsx(se,{variant:"outlined",size:o?"small":"medium",startIcon:e.jsx(eo,{}),onClick:Ie,sx:{textTransform:"none",borderRadius:1.2,px:o?1.2:2,borderColor:l,color:d,fontSize:o?"0.8rem":"0.875rem","&:hover":{borderColor:a,color:a,backgroundColor:W}},children:o?"":"Back"})})]})}),e.jsxs(t,{sx:{flex:1,display:"flex",flexDirection:o?"column":"row",gap:1.5,overflow:"hidden"},children:[e.jsxs(A,{elevation:0,sx:{flex:o?1:2,p:o?1.2:2,borderRadius:1.5,border:`1px solid ${l}`,backgroundColor:v,boxShadow:"0 1px 3px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",overflow:"hidden",minHeight:o?"400px":"auto"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2,pb:1.2,borderBottom:`1px solid ${l}`,flexShrink:0},children:[e.jsx(i,{variant:"h6",fontWeight:600,color:c,children:"Transfer Details"}),e.jsxs(g,{direction:"row",spacing:.5,children:[e.jsx(z,{label:"Instant",size:"small",variant:"outlined",icon:e.jsx(mo,{fontSize:"small"}),sx:{fontSize:"0.65rem",height:22,borderColor:k,color:"#4caf50",backgroundColor:w,"& .MuiChip-icon":{color:"#4caf50"}}}),e.jsx(z,{label:"No fees",size:"small",variant:"outlined",icon:e.jsx(uo,{fontSize:"small"}),sx:{fontSize:"0.65rem",height:22,borderColor:k,color:"#4caf50",backgroundColor:w,"& .MuiChip-icon":{color:"#4caf50"}}})]})]}),e.jsxs(t,{sx:{flex:1,overflow:"auto",pr:o?.5:0,"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:l,borderRadius:"2px"}},children:[Be&&((_=S==null?void 0:S.data)==null?void 0:_.message)&&e.jsx(oo,{severity:"error",sx:{mb:1.5,borderRadius:1.2,"& .MuiAlert-icon":{alignItems:"center"},bgcolor:Fe,border:`1px solid ${Pe}`,color:"#d32f2f",fontSize:o?"0.8rem":"0.875rem"},icon:e.jsx(co,{fontSize:"small"}),children:S.data.message}),e.jsxs(g,{component:"form",onSubmit:he(Ge),spacing:2,sx:{pb:1},children:[e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.8},children:[e.jsx(D,{sx:{fontWeight:500,color:c,fontSize:o?"0.8rem":"0.85rem",m:0},children:"From Account *"}),e.jsx(j,{title:"From account information",children:e.jsx(y,{size:"small",onClick:r=>p(r,Ae),sx:{color:n.primaryBlue,p:.3,"&:hover":{bgcolor:T}},children:e.jsx(C,{fontSize:"small"})})})]}),f?e.jsx(ie,{variant:"rectangular",height:o?38:42,sx:{borderRadius:1.2,backgroundColor:s(n.mediumGray,.3)}}):e.jsx(ce,{items:Ue,value:u("mt5Login"),onChange:r=>P("mt5Login",r.target.value,{shouldValidate:!0}),shouldBeFullWidth:!0,disableItem:u("to"),size:"small",sx:{borderRadius:1.2,"& .MuiSelect-select":{py:o?.8:1.2,fontSize:o?"0.85rem":"0.9rem",backgroundColor:M,color:c},"& .MuiOutlinedInput-notchedOutline":{borderColor:l},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:a,borderWidth:"2px"}}}),x.mt5Login&&e.jsx(i,{color:"#d32f2f",variant:"caption",sx:{mt:.3,display:"block",fontSize:o?"0.7rem":"0.75rem"},children:x.mt5Login.message})]}),e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.8},children:[e.jsx(D,{sx:{fontWeight:500,color:c,fontSize:o?"0.8rem":"0.85rem",m:0},children:"To Account *"}),e.jsx(j,{title:"To account information",children:e.jsx(y,{size:"small",onClick:r=>p(r,Oe),sx:{color:n.primaryBlue,p:.3,"&:hover":{bgcolor:T}},children:e.jsx(C,{fontSize:"small"})})})]}),f?e.jsx(ie,{variant:"rectangular",height:o?38:42,sx:{borderRadius:1.2,backgroundColor:s(n.mediumGray,.3)}}):e.jsx(ce,{items:Ne,value:u("to"),onChange:r=>P("to",r.target.value,{shouldValidate:!0}),shouldBeFullWidth:!0,disableItem:u("mt5Login"),size:"small",sx:{borderRadius:1.2,"& .MuiSelect-select":{py:o?.8:1.2,fontSize:o?"0.85rem":"0.9rem",backgroundColor:M,color:c},"& .MuiOutlinedInput-notchedOutline":{borderColor:l},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:a,borderWidth:"2px"}}}),x.to&&e.jsx(i,{color:"#d32f2f",variant:"caption",sx:{mt:.3,display:"block",fontSize:o?"0.7rem":"0.75rem"},children:x.to.message})]}),e.jsxs(t,{children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:.8},children:[e.jsx(D,{sx:{fontWeight:500,color:c,fontSize:o?"0.8rem":"0.85rem",m:0},children:"Amount (USD) *"}),e.jsx(j,{title:"Amount information",children:e.jsx(y,{size:"small",onClick:r=>p(r,De),sx:{color:n.primaryBlue,p:.3,"&:hover":{bgcolor:T}},children:e.jsx(C,{fontSize:"small"})})})]}),e.jsx(ro,{...F("amount"),endAdornment:e.jsx(to,{position:"end",sx:{color:d},children:"USD"}),fullWidth:!0,placeholder:"0.00",variant:"outlined",type:"number",inputProps:{min:0,step:"0.01"},sx:{borderRadius:1.2,fontWeight:"bold",fontSize:o?"1rem":"1.1rem",backgroundColor:M,"& .MuiOutlinedInput-input":{py:o?.8:1.2,color:c},"& .MuiOutlinedInput-notchedOutline":{borderColor:l},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:a},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:a,borderWidth:2},"&.Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"#d32f2f"}},error:!!x.amount}),x.amount&&e.jsx(i,{color:"#d32f2f",variant:"caption",sx:{mt:.3,display:"block",fontSize:o?"0.7rem":"0.75rem"},children:x.amount.message})]}),e.jsx(t,{sx:{display:"none"},children:e.jsx(no,{...F("type"),size:"small",fullWidth:!0,variant:"outlined"})}),e.jsx(t,{sx:{mt:.5,flexShrink:0},children:e.jsx(se,{type:"submit",variant:"contained",disabled:B||!pe,fullWidth:!0,size:o?"medium":"large",startIcon:B?e.jsx(so,{size:o?16:20,color:"inherit"}):e.jsx(lo,{}),sx:{textTransform:"none",borderRadius:1.2,py:o?.8:1.2,fontSize:o?"0.85rem":"0.95rem",fontWeight:600,backgroundColor:a,color:n.white,boxShadow:`0 2px 12px ${s(a,.2)}`,"&:hover":{backgroundColor:s(a,.9),boxShadow:`0 4px 16px ${s(a,.3)}`},"&:disabled":{opacity:.6,backgroundColor:s(a,.3)}},children:B?"Processing...":"Complete Transfer"})})]})]})]}),e.jsxs(A,{elevation:0,sx:{flex:1,p:o?1.2:2,borderRadius:1.5,border:`1px solid ${l}`,backgroundColor:v,boxShadow:"0 1px 3px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",overflow:"hidden",minHeight:o?"300px":"auto"},children:[e.jsxs(t,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.5,pb:1.2,borderBottom:`1px solid ${l}`,flexShrink:0},children:[e.jsx(i,{variant:"h6",fontWeight:600,color:c,children:"Transfer Summary"}),e.jsx(j,{title:"Summary information",children:e.jsx(y,{size:"small",onClick:r=>p(r,Le),sx:{color:a,p:.3,"&:hover":{bgcolor:W}},children:e.jsx(C,{fontSize:"small"})})})]}),e.jsxs(t,{sx:{flex:1,overflow:"auto",pr:o?.5:0,"&::-webkit-scrollbar":{width:"4px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:l,borderRadius:"2px"}},children:[e.jsxs(t,{sx:{mb:1.5,p:1.2,borderRadius:1.2,bgcolor:Q,border:`1px solid ${q}`,textAlign:"center"},children:[e.jsx(i,{variant:"caption",color:d,sx:{mb:.3,display:"block",fontSize:o?"0.75rem":"0.8rem"},children:"Transfer Amount"}),e.jsxs(i,{variant:o?"h4":"h3",fontWeight:700,color:a,children:["$",U]}),e.jsx(i,{variant:"caption",color:d,sx:{fontSize:o?"0.75rem":"0.8rem"},children:I?"USD":"Enter amount"})]}),e.jsxs(t,{sx:{mb:1.5},children:[e.jsx(i,{variant:"subtitle2",fontWeight:600,color:d,sx:{mb:1.2,fontSize:o?"0.85rem":"0.9rem"},children:"Details"}),e.jsxs(g,{spacing:1.2,children:[e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(i,{variant:"body2",color:d,sx:{fontSize:o?"0.8rem":"0.85rem"},children:"From:"}),e.jsx(i,{variant:"body2",fontWeight:500,color:c,sx:{textAlign:"right",maxWidth:"60%",fontSize:o?"0.8rem":"0.85rem",wordBreak:"break-word"},children:G||"Not selected"})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(i,{variant:"body2",color:d,sx:{fontSize:o?"0.8rem":"0.85rem"},children:"To:"}),e.jsx(i,{variant:"body2",fontWeight:500,color:c,sx:{textAlign:"right",maxWidth:"60%",fontSize:o?"0.8rem":"0.85rem",wordBreak:"break-word"},children:u("to")||"Not selected"})]}),e.jsx(io,{sx:{borderColor:l}}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(i,{variant:"body2",color:d,sx:{fontSize:o?"0.8rem":"0.85rem"},children:"Processing:"}),e.jsx(z,{label:"Instant",size:"small",sx:{fontSize:"0.65rem",height:22,backgroundColor:w,border:`1px solid ${k}`,color:"#4caf50"}})]}),e.jsxs(t,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(i,{variant:"body2",color:d,sx:{fontSize:o?"0.8rem":"0.85rem"},children:"Fees:"}),e.jsx(z,{label:"No fees",size:"small",sx:{fontSize:"0.65rem",height:22,backgroundColor:w,border:`1px solid ${k}`,color:"#4caf50"}})]})]})]}),e.jsx(xo,{sx:{p:1,borderRadius:1.2,backgroundColor:Re,border:`1px solid ${Ee}`,mb:1.5},children:e.jsxs(t,{sx:{display:"flex",gap:.8,alignItems:"flex-start"},children:[e.jsx("i",{style:{fontSize:o?"0.85rem":"0.9rem",color:n.primaryBlue,fontWeight:"bold",flexShrink:0,marginTop:"2px"},children:"ⓘ"}),e.jsxs(t,{children:[e.jsx(i,{variant:"caption",fontWeight:500,color:c,sx:{mb:.2,display:"block",fontSize:o?"0.75rem":"0.8rem"},children:"Important"}),e.jsx(i,{variant:"caption",color:d,sx:{fontSize:o?"0.7rem":"0.75rem",lineHeight:1.2},children:"Transfers are processed instantly with no fees. Minimum transfer amount is $10."})]})]})})]})]})]})]})]})}function ko(){return e.jsx(de,{children:e.jsx(le,{container:!0,size:12,spacing:3,children:e.jsx(le,{size:{xs:12,md:12},children:e.jsx(fo,{})})})})}export{ko as default};
