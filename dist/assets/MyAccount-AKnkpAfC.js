import{p as A,j as e,q as k,r as v,aO as ce,aP as De,an as _,m as Be,B as m,S as h,aj as H,T as i,aF as Q,aQ as Ae,aR as ze,ay as We,aS as Ie,U as Le,v as Z,I as X,aT as V,aU as $e,f as W,L as G,aV as xe,aW as re,a as U,a8 as pe,a9 as me,a6 as he,aX as Ge,V as Re,aY as ue,aG as ge,a7 as Y,s as P,aZ as Oe,a4 as He,a_ as Pe,au as Ee,av as O,G as te,a$ as Ue,b as J,b0 as Ve,b1 as ne,C as Fe,b2 as Ne,at as _e,b3 as ae}from"./index-D1uGZ479.js";import{A as Ye,C as q,M as qe,a as Qe,b as oe}from"./ChangeMT5PasswordModalDetails-DRQ0xL2F.js";import{A as Ze}from"./AttachMoney-Cd4P9nZH.js";import{C as K}from"./Card-k7dLw_5a.js";import"./Selector-QPTNyfun.js";import"./KeyboardArrowDown-rOuSl0HJ.js";const E=A(e.jsx("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 10V8h-2v4H8l4 4 4-4z"}),"ArrowCircleDownOutlined"),fe=A(e.jsx("path",{d:"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0 2c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m-1-10v4h2v-4h3l-4-4-4 4z"}),"ArrowCircleUpOutlined"),ye=A(e.jsx("path",{d:"M6 6v2h8.59L5 17.59 6.41 19 16 9.41V18h2V6z"}),"ArrowOutward"),be=A(e.jsx("path",{d:"M9 4H7v2H5v12h2v2h2v-2h2V6H9zm0 12H7V8h2zm10-8h-2V4h-2v4h-2v7h2v5h2v-5h2zm-2 5h-2v-3h2z"}),"CandlestickChartOutlined"),Xe=A(e.jsx("path",{d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4zm5.98-1v-3H22V8h-7.01V5L11 9z"}),"CompareArrows"),je=A(e.jsx("path",{d:"m15 5-1.41 1.41L18.17 11H2v2h16.17l-4.59 4.59L15 19l7-7z"}),"East"),Je=A(e.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),we=A(e.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVertOutlined"),Ke="FxTrusts-server",t={primaryTeal:"rgb(20, 184, 166)",primaryTealTransparent:"rgba(20, 184, 166, 0.2)",primaryBlue:"#1a5fb4",primaryBlueTransparent:"rgba(26, 95, 180, 0.1)",darkBlue:"#0d2b5e",white:"#ffffff",lightGray:"#f8fafc",mediumGray:"#e2e8f0",darkGray:"#64748b",textGray:"#475569"};function er({account:r,actionButtons:s}){const{token:c}=k(a=>a.auth),[n,o]=v.useState(null),l=v.useRef(),{data:j,isLoading:T,refetch:b}=ce({login:r==null?void 0:r.Login,flag:1},{skip:!(r!=null&&r.Login)});v.useEffect(()=>{if(!(r!=null&&r.Login)||!c)return;l.current&&(l.current.disconnect(),o(null));const a=x=>{x&&o(x!=null&&x.marginDetails?x==null?void 0:x.marginDetails:x)};return l.current=De({login:r.Login,token:c,accountData:a}),()=>{l.current&&l.current.disconnect()}},[r==null?void 0:r.Login,c]);const g=v.useMemo(()=>({type:(r==null?void 0:r.accountType)||"-",MTVersion:"MT5",accountId:(r==null?void 0:r.Login)||"-"}),[r]),S=v.useMemo(()=>({"Actual leverage":n&&(n==null?void 0:n.MarginLeverage)||"- - - - -","Free margin":n&&(n==null?void 0:n.MarginFree)||"0.00 USD","Unrealized P&L":n&&(n==null?void 0:n.Profit)||"0.00 USD",Equity:n&&(n==null?void 0:n.Equity)||"0.00 USD",Credit:n&&(n==null?void 0:n.Credit)||"0.00 USD"}),[n]),f=v.useMemo(()=>[{type:"Server",id:Ke,icon:_},{type:"MT5 login",id:(r==null?void 0:r.Login)||"-",icon:_}],[r]),p=(n==null?void 0:n.Balance)||(r==null?void 0:r.Balance)||0,D=Number(p).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),C=Be("(max-width:600px)"),[M,y]=v.useState(!1),I=a=>{navigator.clipboard.writeText(a),y(!0),setTimeout(()=>y(!1),1500)},{hideBalance:L}=k(a=>a.profile),$=[{name:"Deposit",icon:Q,link:"/client/transactions/deposit"},{name:"Withdraw",icon:ye,link:"/client/transactions/withdrawal"},{name:"Transfer",icon:Xe,link:"/client/transactions/internalTransfer"},{name:"Trade",icon:Ze,modal:null}],B=s&&s.length>0?s:$,z=({button:a})=>a.link?e.jsx(W,{component:G,to:a.link,startIcon:a.icon&&e.jsx(a.icon,{}),variant:a.name==="Trade"?"outlined":"contained",sx:{textTransform:"none",borderRadius:"8px",fontWeight:600,fontSize:"0.875rem",px:2.5,py:1,minWidth:{xs:"120px",sm:"auto"},transition:"all 0.3s ease",...a.name!=="Trade"?{background:`linear-gradient(135deg, ${t.primaryTeal}, ${t.primaryBlue})`,color:t.white,boxShadow:`0 2px 8px ${t.primaryTealTransparent}`,border:"none","&:hover":{background:`linear-gradient(135deg, ${t.primaryBlue}, ${t.primaryTeal})`,boxShadow:`0 4px 12px ${t.primaryTealTransparent}`,transform:"translateY(-2px)"}}:{color:t.primaryTeal,borderColor:t.primaryTeal,borderWidth:"1.5px",background:t.primaryTealTransparent,"&:hover":{borderColor:t.darkBlue,background:t.primaryBlueTransparent,boxShadow:`0 4px 12px ${t.primaryTealTransparent}`}}},children:a.name}):a.modal?e.jsx(V,{startIcon:a.icon&&e.jsx(a.icon,{}),btnName:a.name,Content:a.modal,contentData:{login:g.accountId,mainBalance:D,refetch:b},btnSx:{textTransform:"none",borderRadius:"8px",fontWeight:600,fontSize:"0.875rem",px:2.5,py:1,minWidth:{xs:"120px",sm:"auto"},color:t.primaryTeal,borderColor:t.primaryTeal,borderWidth:"1.5px",background:t.primaryTealTransparent,transition:"all 0.3s ease","&:hover":{borderColor:t.darkBlue,background:t.primaryBlueTransparent,boxShadow:`0 4px 12px ${t.primaryTealTransparent}`}},modalWidth:C?"95%":500}):a.menuItems?e.jsx(xe,{modal:V,modalComponentData:{mt5Login:g.accountId,accountInfo:{accountDetailsData:S,accountTypeDetails:g,accountDetailsID:f}},btnContent:a.icon&&e.jsx(a.icon,{}),modalMenuData:a.menuItems,btnSx:{bgcolor:t.primaryTealTransparent,color:t.primaryTeal,borderRadius:"8px",p:1,minWidth:"auto",transition:"all 0.3s ease","&:hover":{bgcolor:t.primaryBlueTransparent}}}):null;return e.jsxs(m,{sx:{position:"relative",borderRadius:"12px",background:t.white,border:`1px solid ${t.mediumGray}`,overflow:"hidden",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.05)","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"2px",background:`linear-gradient(90deg, transparent, ${t.primaryTeal}, ${t.primaryBlue}, ${t.primaryTeal}, transparent)`},mb:3},children:[e.jsxs(m,{sx:{p:3,pb:0},children:[e.jsxs(h,{direction:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:2,children:[e.jsxs(h,{direction:"row",alignItems:"center",gap:1.5,flexWrap:"wrap",children:[r?e.jsx(m,{sx:{bgcolor:t.primaryTeal,color:t.white,borderRadius:"4px",px:1.5,py:.5,fontSize:"0.7rem",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"},children:g.type}):e.jsx(H,{width:60,height:28,sx:{borderRadius:"4px"}}),r?e.jsx(m,{sx:{bgcolor:t.primaryTealTransparent,color:t.primaryTeal,borderRadius:"4px",px:1.5,py:.5,fontSize:"0.7rem",fontWeight:600},children:g.MTVersion}):e.jsx(H,{width:60,height:28,sx:{borderRadius:"4px"}}),r?e.jsxs(h,{direction:"row",alignItems:"center",gap:.75,children:[e.jsx(Ye,{sx:{color:t.primaryTeal,fontSize:"18px"}}),e.jsxs(i,{sx:{color:t.textGray,fontSize:"0.875rem",fontWeight:600,fontFamily:"monospace",letterSpacing:"0.5px"},children:["ID: ",g.accountId]})]}):e.jsx(H,{width:100,height:28,sx:{borderRadius:"4px"}})]}),e.jsx(h,{direction:"row",flexWrap:"wrap",gap:1.5,children:B.map((a,x)=>e.jsx(z,{button:a},x))})]}),e.jsxs(m,{sx:{mt:3},children:[e.jsxs(i,{sx:{fontSize:"2rem",fontWeight:700,color:t.darkBlue,lineHeight:1,letterSpacing:"-0.5px"},children:[L?"•••••••":D,e.jsx(i,{component:"span",sx:{fontSize:{xs:"1rem",md:"1.25rem"},color:t.darkGray,fontWeight:500,ml:1.5,textTransform:"uppercase"},children:"USD"})]}),e.jsx(i,{sx:{color:t.textGray,fontSize:"0.875rem",mt:.5,fontWeight:500},children:"Account Balance"})]})]}),e.jsxs(Ae,{defaultExpanded:!1,sx:{background:"transparent",boxShadow:"none",borderRadius:"0 !important","&:before":{display:"none"},"&.Mui-expanded":{margin:0},mt:2},children:[e.jsx(ze,{expandIcon:e.jsx(We,{sx:{color:t.primaryTeal,fontSize:"1.5rem"}}),sx:{px:3,py:2,minHeight:"auto","& .MuiAccordionSummary-content":{margin:0},"&.Mui-expanded":{minHeight:"auto"}},children:e.jsx(i,{sx:{fontSize:"0.875rem",fontWeight:500,color:t.primaryTeal},children:"View Account Details"})}),e.jsxs(Ie,{sx:{p:3,pt:0},children:[e.jsx(m,{sx:{p:3,borderRadius:"8px",background:t.lightGray,color:t.textGray,position:"relative",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)",border:`1px solid ${t.mediumGray}`},children:e.jsx(h,{gap:0,sx:{position:"relative",zIndex:2},children:Object.entries(S).map(([a,x],R)=>e.jsxs(m,{children:[e.jsxs(h,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{py:1.5},children:[e.jsx(i,{sx:{color:t.textGray,fontSize:"0.875rem",fontWeight:600},children:a}),e.jsx(i,{sx:{color:t.darkBlue,fontSize:"0.875rem",fontWeight:700},children:x})]}),R<Object.entries(S).length-1&&e.jsx(Le,{sx:{borderColor:t.mediumGray}})]},a))})}),e.jsxs(m,{sx:{mt:3,display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:2},children:[e.jsx(h,{direction:"row",gap:3,flexWrap:"wrap",children:f.map((a,x)=>e.jsxs(h,{direction:"row",alignItems:"center",gap:1,children:[e.jsxs(i,{sx:{color:t.textGray,fontSize:"0.75rem",fontWeight:600},children:[a.type,":"]}),e.jsx(i,{sx:{fontSize:"0.75rem",color:t.darkBlue,fontWeight:700,fontFamily:"monospace"},children:a.id}),e.jsx(Z,{title:M?"Copied!":"Copy",children:e.jsx(X,{size:"small",onClick:R=>{I(a==null?void 0:a.id)},sx:{color:t.darkGray,p:.5,"&:hover":{color:t.primaryTeal,bgcolor:t.primaryTealTransparent}},children:e.jsx(a.icon,{sx:{fontSize:"14px"}})})})]},x))}),e.jsx(V,{startIcon:e.jsx($e,{sx:{fontSize:"14px"}}),btnName:"Change trading password",Content:q,contentData:{mt5Login:g.accountId},btnSx:{textTransform:"none",borderRadius:"4px",fontSize:"0.75rem",fontWeight:600,px:2,py:.75,color:t.textGray,border:`1px solid ${t.mediumGray}`,background:t.white,transition:"all 0.3s ease","&:hover":{color:t.primaryTeal,borderColor:t.primaryTeal,background:t.primaryTealTransparent}},modalWidth:C?"95%":500})]})]})]})]})}const rr="infi growth",F={image:"/logoForTerminal.jpg",heading:`${rr} Markets terminal`,text:"Trade directly from your browser"};function tr(){const{selectedTheme:r}=k(s=>s.themeMode);return e.jsxs(K,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"10px",p:"20px",boxShadow:"none",bgcolor:r!=="dark"&&"#f3f5f7"},children:[e.jsxs(h,{sx:{flexDirection:"row",gap:"1.2rem"},children:[e.jsx("img",{src:F.image,alt:"error",style:{width:"48px",height:"48px",borderRadius:"5px"}}),e.jsxs(h,{children:[e.jsx(i,{fontWeight:"bold",variant:"body2",children:F.heading}),e.jsx(i,{color:"text.secondary",children:F.text})]})]}),e.jsx(je,{})]})}const N={image:"/metatrader-5.png",heading:"MetaTrader 5",text:"Download and install the MT5 platform"};function nr(){const{selectedTheme:r}=k(c=>c.themeMode),s=()=>{window.open("https://www.metatrader5.com/en/download","_blank")};return e.jsxs(K,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"10px",p:"20px",boxShadow:"none",bgcolor:r!=="dark"&&"#f3f5f7"},onClick:s,children:[e.jsxs(h,{sx:{flexDirection:"row",gap:"1.2rem"},children:[e.jsx(h,{sx:{width:"48px",height:"48px",bgcolor:"#09332f",borderRadius:"10px"},children:e.jsx("img",{src:N.image,alt:"error",style:{width:"48px",height:"48px",borderRadius:"5px"}})}),e.jsxs(h,{children:[e.jsx(i,{fontWeight:"bold",variant:"body2",children:N.heading}),e.jsx(i,{color:"text.secondary",children:N.text})]})]}),e.jsx(je,{})]})}function ar(r,s,c="mt5-account"){localStorage.setItem("mt5-active-account",r);const n=o=>o.postMessage({type:"ACCOUNT_CHANGED",accountId:r});try{n(s||re(c))}catch(o){if(o&&o.name==="InvalidStateError"){const l=re(c);try{n(l)}catch{}}else console.error(o)}}function Te({onClose:r,data:s}){const c=()=>{s!=null&&s.login&&ar(s.login),r()};return e.jsxs(h,{children:[e.jsx(i,{id:"keep-mounted-modal-title",sx:{fontSize:"2rem",fontWeight:"700",mb:"1.2rem"},children:"Trade"}),e.jsxs(m,{sx:{display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsx(m,{sx:{cursor:"pointer",textDecoration:"none"},component:G,target:"_blank",to:"/terminal",rel:"noopener noreferrer",onClick:c,children:e.jsx(tr,{})}),e.jsx(m,{sx:{cursor:"pointer"},onClick:c,children:e.jsx(nr,{})})]})]})}const or=he({login:Y().min(1,"login is required"),amount:Y().min(1,"Please type the amount")});function Se({data:r,onClose:s}){const c=r==null?void 0:r.login,{refetch:n}=ce({login:c,flag:1},{skip:!c}),o=U(),l={login:c,amount:""},{register:j,handleSubmit:T,reset:b,formState:{errors:g}}=pe({resolver:me(or),defaultValues:l});v.useEffect(()=>{b({login:c})},[c]);const[S,{isLoading:f}]=Ge(),p=async D=>{var C,M;try{const y=await S(D).unwrap();y!=null&&y.status&&(o(P({open:!0,message:y==null?void 0:y.message,severity:"success"})),b(l),s(),n())}catch(y){(C=y==null?void 0:y.data)!=null&&C.status||o(P({open:!0,message:((M=y==null?void 0:y.data)==null?void 0:M.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(h,{children:[e.jsx(i,{id:"keep-mounted-modal-title",sx:{fontSize:"1.5rem",fontWeight:"700",mb:"1.2rem"},children:"Set balance for demo account"}),e.jsxs(m,{sx:{display:"flex",gap:".2rem"},children:[e.jsx(i,{color:"textSecondary",children:"Account:"}),e.jsx(i,{fontWeight:500,children:c})]}),e.jsxs(m,{component:"form",onSubmit:T(p),children:[e.jsx(Re,{sx:{mb:"1px",fontSize:"13px"},children:"Amount"}),e.jsx(ue,{...j("amount",{required:!0}),size:"small",fullWidth:!0,endAdornment:e.jsx(ge,{position:"end",children:e.jsx(i,{children:"USD"})})}),g.amount&&e.jsx(i,{color:"error",fontSize:"14px",children:g.amount.message}),e.jsx(W,{size:"small",variant:"contained",type:"submit",fullWidth:!0,disabled:f,sx:{textTransform:"none",boxShadow:"none",fontWeight:"400",mt:"1rem",fontSize:"16px",px:"2rem","&:hover":{boxShadow:"none"}},children:"Set Balance"})]})]})}function ie({data:r}){var T,b;const[s,c]=v.useState(!1),n=g=>{navigator.clipboard.writeText(g),c(!0),setTimeout(()=>{c(!1)},1500)},o=r==null?void 0:r.accountInfo,l={...o==null?void 0:o.accountDetailsData,...o==null?void 0:o.accountTypeDetails},j={Type:l.type,"Actual leverage":l["Actual leverage"],"Free margin":l["Free margin"],"Unrealized P&L":l["Unrealized P&L"],Server:(T=o==null?void 0:o.accountDetailsID[0])==null?void 0:T.id,"MT5 login":(b=o==null?void 0:o.accountDetailsID[1])==null?void 0:b.id};return e.jsxs(h,{spacing:2,sx:{px:{xs:1,sm:2}},children:[e.jsx(i,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Account information"}),Object.entries(j).map(([g,S],f)=>e.jsxs(m,{display:"flex",justifyContent:"space-between",alignItems:"center",sx:{borderBottom:"1px solid #e0e0e0",pb:1},children:[e.jsx(i,{variant:"body2",fontWeight:600,color:"text.secondary",children:g}),e.jsxs(m,{sx:{display:"flex",gap:"10px"},children:[e.jsx(i,{variant:"body2",color:"text.primary",children:S}),(g=="Server"||g=="MT5 login")&&e.jsx(Z,{title:s?"Copied!":"Copy",children:e.jsx(X,{sx:{p:0},onClick:()=>n(S),children:e.jsx(_,{sx:{width:"16px",cursor:"pointer"}})})})]})]},f))]})}const ir=he({PassInvestor:Y().min(8,"Password must be at least 8 characters").max(15,"Password must be at most 15 characters").regex(/[a-z]/,"Must include at least one lowercase letter").regex(/[A-Z]/,"Must include at least one uppercase letter").regex(/\d/,"Must include at least one number").regex(/[^a-zA-Z0-9]/,"Must include at least one special character")});function se({data:r,onClose:s}){const c=r==null?void 0:r.mt5Login,[n,o]=v.useState(!1),l=()=>o(B=>!B),j={PassInvestor:""},{watch:T,register:b,reset:g,handleSubmit:S}=pe({resolver:me(ir),defaultValues:j}),f=T("PassInvestor"),p=(f==null?void 0:f.length)>=8&&f.length<=15,D=/[a-z]/.test(f)&&/[A-Z]/.test(f),C=/\d/.test(f),M=/[^a-zA-Z0-9]/.test(f),y=U(),[I,{isLoading:L}]=Oe(),$=async B=>{var z,a;try{const x=await I({...B,login:c}).unwrap();x!=null&&x.status&&(y(P({open:!0,message:x==null?void 0:x.message,severity:"success"})),g(j),s())}catch(x){(z=x==null?void 0:x.data)!=null&&z.status||y(P({open:!0,message:((a=x==null?void 0:x.data)==null?void 0:a.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(h,{component:"form",onSubmit:S($),children:[e.jsx(i,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"Share read-only access"}),e.jsxs(m,{children:[e.jsxs(i,{my:"1rem",children:["Account: # ",c]}),e.jsx(i,{mb:"15px",fontSize:"14px",children:"You can share readonly access to your trading account to show investors how you perform."}),e.jsx(ue,{size:"small",fullWidth:!0,...b("PassInvestor",{required:!0}),type:n?"text":"password",endAdornment:e.jsx(ge,{position:"end",children:e.jsx(X,{"aria-label":"toggle visibility",onClick:l,edge:"end",children:n?e.jsx(He,{}):e.jsx(Pe,{})})})}),e.jsxs(h,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[e.jsxs(Ee,{sx:{listStyleType:"disc",pl:2,py:0},children:[e.jsx(O,{sx:{display:"list-item",p:0},children:e.jsx(i,{sx:{fontSize:"12px",color:p?"#4caf50":"error.main"},children:"Between 8–15 characters"})}),e.jsx(O,{sx:{display:"list-item",p:0},children:e.jsx(i,{sx:{fontSize:"12px",color:D?"#4caf50":"error.main"},children:"At least one upper and one lower case letter"})}),e.jsx(O,{sx:{display:"list-item",p:0},children:e.jsx(i,{sx:{fontSize:"12px",color:C?"#4caf50":"error.main"},children:"At least one number"})}),e.jsx(O,{sx:{display:"list-item",p:0},children:e.jsx(i,{sx:{fontSize:"12px",color:M?"#4caf50":"error.main"},children:"At least one special character"})})]}),e.jsxs(i,{color:"#aeaeae",children:[[p,D,C,M].filter(Boolean).length,"/4"]})]})]}),e.jsx(W,{variant:"contained",type:"submit",disabled:L,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",color:"white",mt:"1.5rem","&:hover":{boxShadow:"none"}},children:"Submit"})]})}const Ce=r=>[{name:"Trade",icon:be,type:"modal",modal:Te},!r&&{name:"Set Balance",icon:E,type:"modal",modal:Se},r&&{name:"Deposit",icon:E,type:"redirect",modal:qe},r&&{name:"Withdraw",icon:fe,type:"redirect",modal:Qe},{icon:we,type:"menu",menuItems:r?[{name:"Transfer funds",link:"/client/transactions/internalTransfer"},{name:"Change max leverage",modalContent:oe},{name:"Account information",modalContent:ie},{name:"Set read-only access",modalContent:se},{name:"Change trading password",modalContent:q}]:[{name:"Change max leverage",modalContent:oe},{name:"Account information",modalContent:ie},{name:"Set read-only access",modalContent:se},{name:"Change trading password",modalContent:q}]}].filter(Boolean),sr={actionButtons:Ce(!1)},lr={actionButtons:Ce(!0)},le="infi growth",ve=r=>r?{Number:"#404714946",Platform:"mt5",Type:"Standard",Server:`${le}-MT5Real8`,"Free margin":"0.00 USD","Actual leverage":"1:200","Max leverage":"1:200"}:{Number:"#239177571",Platform:"mt5",Type:"Standard",Server:`${le}-MT5Trial6`,"Free margin":"0.00 USD","Actual leverage":"1:200","Max leverage":"1:200"},ke=r=>[{name:"Trade",icon:be,type:"modal",modalType:Te},!r&&{name:"Set Balance",icon:E,type:"modal",modalType:Se},r&&{name:"Deposit",icon:E,type:"redirect",link:"/client/transactions/deposit"},r&&{name:"Withdraw",icon:fe,type:"redirect",link:"/client/transactions/withdrawal"}].filter(Boolean),dr={detailsData:ve(!1),actionButtons:ke(!1)},cr={detailsData:ve(!0),actionButtons:ke(!0)};function xr({accountDetailsData:r,accountTypeAndNumber:s,actionButtons:c,menuData:n}){const{selectedTheme:o}=k(l=>l.themeMode);return e.jsx(te,{container:!0,size:12,children:e.jsxs(te,{size:{xs:12,sm:6,md:4,lg:3},sx:{border:"1px solid #afb5b9",borderRadius:".4rem",mt:"2rem",bgcolor:o==="dark"&&"#292929"},children:[e.jsxs(h,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"1rem",px:2.5,py:1.5,borderBottom:"1px solid #afb5b9"},children:[e.jsx(i,{sx:{fontSize:"12px",borderRadius:".2rem",bgcolor:s.type==="Real"?"#fffceb":"#e8f6ee",px:".5rem",py:".1rem",color:s.type==="Real"?"black":"#29834d"},children:s.type}),e.jsx(i,{fontSize:"14px",fontWeight:"700",children:s.number}),e.jsx(xe,{btnContent:e.jsx(we,{}),menuData:n,otherMenuData:c,modalComponentData:{login:s.number},btnSx:{bgcolor:"#f3f5f7",color:"black",boxShadow:"none !important",minWidth:"2.5rem",p:"6px"}})]}),Object.entries(r).map(([l,j],T)=>e.jsxs(h,{sx:{flexDirection:"row",px:2.5,my:".7rem",justifyContent:"space-between",color:o==="dark"?"white":"#4b5256"},children:[e.jsxs(i,{sx:{fontSize:".9rem"},children:[l,":"]}),e.jsx(i,{sx:{fontSize:".9rem"},children:j})]},T))]})})}function de(){var f;Ue("logout");const{activeMT5AccountType:r}=k(p=>p.mt5),{myAccountLayout:s}=k(p=>p.myAccount);U();const{token:c}=k(p=>p.auth),{data:n,isLoading:o}=J(void 0,{skip:!c,refetchOnMountOrArgChange:!0}),l=!o&&((f=n==null?void 0:n.data)==null?void 0:f.mt5AccountList),j=l==null?void 0:l.filter(p=>(p==null?void 0:p.accountType)==="REAL"),T=l==null?void 0:l.filter(p=>(p==null?void 0:p.accountType)==="DEMO"),b=r==="Real"?j:T,g=r==="Real"?lr:sr,S=r==="Real"?cr:dr;return e.jsx(h,{children:o?e.jsx(H,{sx:{mt:"2rem"},width:"100%",height:"100px"}):e.jsx(h,{gap:"1rem",children:s==="list"?b==null?void 0:b.map(p=>e.jsx(er,{account:p,actionButtons:g.actionButtons},p.Login)):e.jsx(Box,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:b==null?void 0:b.map(p=>e.jsx(xr,{accountDetailsData:S.detailsData,accountTypeAndNumber:{type:p.accountType,number:p.Login},actionButtons:S.actionButtons},p.Login))})})})}const d={primaryTeal:"rgb(20, 184, 166)",primaryTealTransparent:"rgba(20, 184, 166, 0.2)",primaryBlue:"#1a5fb4",primaryBlueTransparent:"rgba(26, 95, 180, 0.1)",darkBlue:"#0d2b5e",white:"#ffffff",lightGray:"#f8fafc",mediumGray:"#e2e8f0",textGray:"#475569"};function pr(){var j,T;const{token:r}=k(b=>b.auth),{data:s,isLoading:c}=J(void 0,{skip:!r,refetchOnMountOrArgChange:!0}),n=Number(!c&&((T=(j=s==null?void 0:s.data)==null?void 0:j.assetData)==null?void 0:T.mainBalance)||0).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}),o=d.white,l=`linear-gradient(135deg, ${d.primaryTeal} 0%, ${d.primaryBlue} 100%)`;return e.jsxs(K,{sx:{p:3,borderRadius:"12px",background:o,color:d.textGray,position:"relative",overflow:"hidden",minHeight:"260px",display:"flex",flexDirection:"column",justifyContent:"space-between",border:`1px solid ${d.mediumGray}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)","&:before":{content:'""',position:"absolute",top:0,left:0,right:0,height:"2px",background:`linear-gradient(90deg, transparent, ${d.primaryTeal}, ${d.primaryBlue}, ${d.primaryTeal}, transparent)`}},children:[e.jsxs(h,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:3,position:"relative",zIndex:2},children:[e.jsxs(m,{children:[e.jsxs(i,{fontWeight:700,fontSize:22,sx:{lineHeight:1.2,color:d.darkBlue},children:["Infi",e.jsx(m,{component:"span",sx:{ml:.5,background:`linear-gradient(90deg, ${d.primaryTeal}, ${d.primaryBlue})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Growth"})]}),e.jsx(i,{variant:"body2",sx:{mt:.5,fontSize:"0.875rem",color:d.textGray,fontWeight:500},children:"Global Trading Wallet"})]}),e.jsx(W,{component:G,to:"/client/transactions/depositWithdrawList",variant:"contained",startIcon:e.jsx(Je,{sx:{fontSize:"1rem",color:d.white}}),size:"small",sx:{textTransform:"none",borderRadius:"8px",color:d.white,fontWeight:600,fontSize:"0.8rem",py:.85,px:1.75,minWidth:"auto",background:`linear-gradient(135deg, ${d.primaryTeal}, ${d.primaryBlue})`,position:"relative",overflow:"hidden",boxShadow:`0 4px 12px ${d.primaryTealTransparent}`,transition:"all 0.3s ease","&:hover":{background:`linear-gradient(135deg, ${d.primaryBlue}, ${d.primaryTeal})`,boxShadow:`0 6px 20px ${d.primaryTealTransparent}`,transform:"translateY(-2px)"}},children:"Transaction History"})]}),e.jsxs(m,{sx:{flexGrow:1,p:3,borderRadius:"8px",background:l,color:d.white,display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:`0 8px 32px ${d.primaryTealTransparent}`,position:"relative",overflow:"hidden",border:`1px solid ${d.primaryTeal}`},children:[e.jsxs(m,{sx:{position:"relative",zIndex:2},children:[e.jsxs(i,{fontSize:34,fontWeight:800,sx:{lineHeight:1.2,mb:.5,background:"linear-gradient(180deg, #ffffff, #e0e0e0)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:[n," USD"]}),e.jsx(i,{variant:"body2",sx:{fontSize:"0.875rem",opacity:.9,fontWeight:500},children:"Wallet Balance"})]}),e.jsxs(h,{direction:"row",spacing:2,sx:{mt:3,justifyContent:{xs:"center",sm:"flex-start"},position:"relative",zIndex:2},children:[e.jsx(W,{startIcon:e.jsx(Q,{}),component:G,to:"/client/transactions/deposit",variant:"contained",sx:{textTransform:"none",borderRadius:"8px",background:d.white,color:d.primaryTeal,fontWeight:700,fontSize:"0.875rem",px:3,py:1.2,minWidth:"120px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden",border:`2px solid ${d.white}`,transition:"all 0.3s ease","&:hover":{background:d.lightGray,boxShadow:`0 6px 20px ${d.primaryTealTransparent}`,transform:"translateY(-2px)",color:d.darkBlue}},children:"Deposit"}),e.jsx(W,{startIcon:e.jsx(ye,{}),variant:"contained",component:G,to:"/client/transactions/withdrawal",sx:{textTransform:"none",borderRadius:"8px",background:d.darkBlue,color:d.white,fontWeight:700,fontSize:"0.875rem",px:3,py:1.2,minWidth:"120px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",position:"relative",overflow:"hidden",border:`2px solid ${d.darkBlue}`,transition:"all 0.3s ease","&:hover":{background:d.primaryBlue,boxShadow:`0 6px 20px ${d.primaryBlueTransparent}`,transform:"translateY(-2px)"}},children:"Withdraw"})]})]})]})}const u={primaryTeal:"rgb(20, 184, 166)",primaryTealTransparent:"rgba(20, 184, 166, 0.2)",primaryBlue:"#1a5fb4",darkBlue:"#0d2b5e",white:"#ffffff",lightGray:"#f8fafc",mediumGray:"#e2e8f0",darkGray:"#64748b",textGray:"#475569",backgroundGray:"#f1f5f9"};function br(){var C,M,y,I,L,$,B,z,a,x,R,ee;const r=U(),{activeMT5AccountType:s}=k(w=>w.mt5),{token:c}=k(w=>w.auth),{data:n,isLoading:o}=J(void 0,{skip:!c,refetchOnMountOrArgChange:!0}),{data:l,isLoading:j}=Ve({page:"1",rowPerPage:"10"}),T=!j&&((y=(M=(C=l==null?void 0:l.data)==null?void 0:C.mt5AccountList)==null?void 0:M.filter(w=>(w==null?void 0:w.accountType)==="DEMO"))==null?void 0:y.length)>0,b=!j&&(($=(L=(I=l==null?void 0:l.data)==null?void 0:I.mt5AccountList)==null?void 0:L.filter(w=>(w==null?void 0:w.accountType)==="REAL"))==null?void 0:$.length)>0,g=!o&&((z=(B=n==null?void 0:n.data)==null?void 0:B.userData)==null?void 0:z.isEmailVerified);!o&&((x=(a=n==null?void 0:n.data)==null?void 0:a.userData)==null||x.isMobileVerified);const S=!o&&((ee=(R=n==null?void 0:n.data)==null?void 0:R.userData)==null?void 0:ee.name),f=!!(g&&S);function p(w){w&&r(ne(w))}function D(w){return w==="Real"?b?e.jsx(de,{}):e.jsx(ae,{}):T?e.jsx(de,{}):e.jsx(ae,{})}return v.useEffect(()=>{s||r(ne("Real"))},[r,s]),e.jsx(h,{sx:{width:"100%",bgcolor:u.backgroundGray,minHeight:"100vh",py:3},children:e.jsxs(Fe,{maxWidth:"lg",sx:{px:{xs:2,sm:3}},children:[e.jsx(m,{sx:{mb:{xs:3,md:4}},children:e.jsx(pr,{})}),e.jsxs(h,{sx:{mb:3,flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:{xs:2,sm:0}},children:[e.jsx(i,{sx:{fontSize:{xs:"1.5rem",sm:"1.75rem",md:"2rem"},fontWeight:700,lineHeight:1.2,color:u.darkBlue},children:"Your Trading Account"}),e.jsx(Z,{title:f?"":"Complete level one verification to open an account",placement:"top",children:e.jsx(m,{children:e.jsx(W,{component:G,to:f?"/client/newAccount":"#",variant:"contained",startIcon:e.jsx(Q,{sx:{color:u.white}}),disabled:!f,sx:{textTransform:"none",borderRadius:"8px",color:u.white,fontWeight:600,fontSize:"0.9rem",py:1.1,px:3.5,minWidth:{xs:"100%",sm:"200px"},background:`linear-gradient(135deg, ${u.primaryTeal}, ${u.primaryBlue})`,position:"relative",overflow:"hidden",boxShadow:`0 4px 12px ${u.primaryTealTransparent}`,transition:"all 0.3s ease","&:hover":{background:`linear-gradient(135deg, ${u.primaryBlue}, ${u.primaryTeal})`,boxShadow:`0 6px 20px ${u.primaryTealTransparent}`,transform:"translateY(-2px)"},"&.Mui-disabled":{background:`linear-gradient(135deg, ${u.mediumGray}, ${u.darkGray})`,color:u.white,boxShadow:"none","&:hover":{background:`linear-gradient(135deg, ${u.mediumGray}, ${u.darkGray})`,transform:"none",boxShadow:"none"}}},children:"Open New Account"})})})]}),e.jsx(m,{sx:{mb:3},children:e.jsx(Ne,{boxSx:{width:"100%",maxWidth:{xs:"100%",sm:"400px"},bgcolor:u.lightGray,borderRadius:"8px",p:1,border:`1px solid ${u.mediumGray}`},tabSx:{color:u.textGray,fontWeight:500,"&.Mui-selected":{color:u.white,bgcolor:u.primaryTeal,fontWeight:600},"&:hover":{bgcolor:u.primaryTealTransparent},transition:"all 0.3s ease"},items:["Real","Demo"],onChange:(w,Me)=>p(Me),active:s})}),e.jsx(m,{sx:{mb:4,bgcolor:u.white,borderRadius:"8px",p:{xs:2,sm:3},border:`1px solid ${u.mediumGray}`,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.05)"},children:o||j?e.jsx(m,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px"},children:e.jsx(_e,{})}):e.jsx(m,{sx:{animation:"fadeIn 0.3s ease-in","@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}},children:D(s)})})]})})}export{br as default};
