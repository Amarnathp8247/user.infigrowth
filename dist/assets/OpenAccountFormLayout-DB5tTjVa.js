import{p as q,j as e,a6 as N,a7 as U,b9 as I,l as w,q as T,Z as Y,ba as W,a as _,r as H,a8 as Q,a9 as J,bb as K,b as X,B as l,T as r,G as m,V as M,n as ee,ab as se,ac as ae,ad as L,aY as re,aG as te,I as ne,a4 as ie,a_ as oe,S as c,am as ce,au as le,f as de,av as me,s as z,U as ue,C as xe,L as P,b6 as pe}from"./index-D1uGZ479.js";import{I as he}from"./InfoOutlined-qcVLwQXG.js";import{E as ge}from"./ErrorOutline-BvOypDnk.js";import{C as y}from"./CheckCircle-FNLtkmtk.js";const be=q(e.jsx("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),je=N({groupId:I().min(1,"Group id is required"),Leverage:I().min(1,"Leverage is required"),PassMain:U().min(8,"Main password must be at least 8 characters").refine(a=>/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(a),{message:"Password must include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*)"})});function fe(){const a=w(),{token:s}=T(t=>t.auth),x=Y(),{state:o}=W(),p=_();let h=(o==null?void 0:o.leverage)/100||0,b=100,d=[];if(h>0)for(let t=1;t<=h;t++)d.push(b*t);else d=[100,200,300,400,500];const[S,O]=H.useState(!1),D=()=>O(t=>!t),C={groupId:o==null?void 0:o.id,Leverage:d[0]||0,PassMain:""},{register:F,handleSubmit:R,reset:$,watch:k,setValue:B,formState:{errors:u,isSubmitting:A}}=Q({resolver:J(je),defaultValues:C,mode:"onChange"}),i=k("PassMain"),E=k("Leverage"),g={length:(i==null?void 0:i.length)>=8&&(i==null?void 0:i.length)<=15,upperLower:/[a-z]/.test(i)&&/[A-Z]/.test(i),number:/\d/.test(i),specialChar:/[^a-zA-Z0-9]/.test(i)},j=Object.values(g).filter(Boolean).length,[V]=K(),{refetch:G}=X(void 0,{skip:!s,refetchOnMountOrArgChange:!0}),Z=async t=>{var v;try{const n=await V(t).unwrap();n!=null&&n.status&&(G(),x("/client"),p(z({open:!0,message:n==null?void 0:n.message,severity:"success"})),$(C))}catch(n){p(z({open:!0,message:((v=n==null?void 0:n.data)==null?void 0:v.message)||"Failed to submit. Please try again later.",severity:"error"}))}},f=({condition:t,label:v,isValid:n})=>e.jsxs(me,{sx:{display:"flex",alignItems:"center",p:0,mb:.5},children:[n?e.jsx(be,{sx:{fontSize:16,color:"success.main",mr:1}}):e.jsx(ge,{sx:{fontSize:16,color:"error.main",mr:1}}),e.jsx(r,{variant:"caption",sx:{color:n?"success.main":"text.secondary"},children:v})]});return e.jsxs(l,{component:"form",onSubmit:R(Z),children:[e.jsx(r,{variant:"h6",fontWeight:"600",mb:3,children:"Account Configuration"}),e.jsxs(m,{container:!0,spacing:3,children:[e.jsxs(m,{size:{xs:12},children:[e.jsx(M,{sx:{mb:1,fontWeight:500,color:"text.primary"},children:"Max leverage *"}),e.jsx(ee,{fullWidth:!0,children:e.jsx(se,{value:E||d[0]||"",onChange:t=>B("Leverage",parseInt(t.target.value),{shouldValidate:!0}),displayEmpty:!0,size:"small",error:!!u.Leverage,children:d.map(t=>e.jsx(ae,{value:t,children:t},t))})}),u.Leverage&&e.jsx(L,{error:!0,children:u.Leverage.message}),e.jsx(r,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:"Maximum leverage available for this account type"})]}),e.jsxs(m,{size:{xs:12},children:[e.jsx(M,{sx:{mb:1,fontWeight:500,color:"text.primary"},children:"Main password *"}),e.jsx(re,{size:"small",fullWidth:!0,...F("PassMain"),type:S?"text":"password",error:!!u.PassMain,placeholder:"Enter main trading password",endAdornment:e.jsx(te,{position:"end",children:e.jsx(ne,{onClick:D,edge:"end",size:"small",children:S?e.jsx(ie,{fontSize:"small"}):e.jsx(oe,{fontSize:"small"})})})}),u.PassMain&&e.jsx(L,{error:!0,children:u.PassMain.message}),i&&e.jsxs(l,{sx:{mt:2},children:[e.jsxs(c,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:1,children:[e.jsx(r,{variant:"caption",color:"text.secondary",children:"Password Strength"}),e.jsxs(r,{variant:"caption",color:"text.secondary",children:[j,"/4"]})]}),e.jsx(ce,{variant:"determinate",value:j*25,sx:{height:4,borderRadius:2,mb:2,backgroundColor:a.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{backgroundColor:j===4?"success.main":j>=2?"warning.main":"error.main"}}})]}),e.jsxs(l,{sx:{mt:1},children:[e.jsx(r,{variant:"caption",color:"text.secondary",sx:{mb:1,display:"block"},children:"Password must contain:"}),e.jsxs(le,{dense:!0,sx:{p:0},children:[e.jsx(f,{condition:"length",label:"8-15 characters",isValid:g.length}),e.jsx(f,{condition:"upperLower",label:"Upper & lowercase letters",isValid:g.upperLower}),e.jsx(f,{condition:"number",label:"At least one number",isValid:g.number}),e.jsx(f,{condition:"specialChar",label:"At least one special character",isValid:g.specialChar})]})]})]}),e.jsxs(m,{size:{xs:12},children:[e.jsx(de,{fullWidth:!0,variant:"contained",type:"submit",disabled:A,size:"large",sx:{py:1.5,mt:2,borderRadius:2,fontWeight:600,textTransform:"none",fontSize:"1rem","&:hover":{transform:"translateY(-1px)",boxShadow:a.shadows[4]},transition:"all 0.2s"},children:A?"Creating Account...":"Create an Account"}),e.jsx(r,{variant:"caption",color:"text.secondary",sx:{mt:2,textAlign:"center",display:"block"},children:"By creating an account, you agree to our Terms of Service and Privacy Policy."})]})]})]})}function ve(){var o,p,h;const a=w(),{state:s}=W(),x=[{label:"Account Type",value:(s==null?void 0:s.title)||"-----"},{label:"Spread from",value:((p=(o=s==null?void 0:s.features)==null?void 0:o.spread)==null?void 0:p.replace(/From\s*/i,""))||"-----"},{label:"Commission",value:((h=s==null?void 0:s.features)==null?void 0:h.commission)||"-----"},{label:"Maximum Leverage",value:s!=null&&s.leverage?`${s.leverage/100}:1`:"-----"},{label:"Minimum Deposit",value:(s==null?void 0:s.minimum_deposit)||"-----"},{label:"Swap Free",value:s!=null&&s.swap_free?"Yes":"No"}];return e.jsxs(c,{spacing:2,children:[e.jsx(r,{variant:"h6",fontWeight:"600",color:"primary.main",children:(s==null?void 0:s.title)||"Standard Account"}),e.jsx(ue,{sx:{my:1}}),e.jsx(c,{spacing:2,children:x.map((b,d)=>e.jsxs(l,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:1.5,borderRadius:1,bgcolor:a.palette.mode==="dark"?"rgba(255,255,255,0.03)":"rgba(0,0,0,0.02)","&:hover":{bgcolor:a.palette.mode==="dark"?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.04)"}},children:[e.jsx(r,{variant:"body2",color:"text.secondary",children:b.label}),e.jsx(r,{variant:"body2",fontWeight:"500",children:b.value})]},d))}),e.jsxs(l,{sx:{mt:3},children:[e.jsx(r,{variant:"subtitle2",fontWeight:"600",mb:1,children:"Features Included:"}),e.jsxs(c,{spacing:1,children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(y,{sx:{fontSize:16,color:"success.main"}}),e.jsx(r,{variant:"caption",children:"Access to all trading instruments"})]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(y,{sx:{fontSize:16,color:"success.main"}}),e.jsx(r,{variant:"caption",children:"24/7 Customer Support"})]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(y,{sx:{fontSize:16,color:"success.main"}}),e.jsx(r,{variant:"caption",children:"Advanced Trading Tools"})]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(y,{sx:{fontSize:16,color:"success.main"}}),e.jsx(r,{variant:"caption",children:"Market Analysis"})]})]})]}),e.jsx(r,{variant:"caption",color:"text.secondary",sx:{mt:2,fontStyle:"italic"},children:"All features are subject to our terms and conditions. Market conditions may affect spreads and commissions."})]})}function ke(){const a=w(),{selectedTheme:s}=T(x=>x.themeMode);return e.jsxs(xe,{maxWidth:"lg",sx:{py:{xs:2,md:4}},children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:2,mb:4,children:[e.jsx(P,{to:"/client/newAccount",style:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:"50%",backgroundColor:a.palette.mode==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.04)",color:a.palette.mode==="dark"?"white":a.palette.text.primary,textDecoration:"none",transition:"all 0.2s","&:hover":{backgroundColor:a.palette.mode==="dark"?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.08)"}},children:e.jsx(pe,{})}),e.jsx(r,{variant:"h4",fontWeight:"700",children:"Open New Account"})]}),e.jsxs(m,{container:!0,spacing:4,children:[e.jsx(m,{size:{xs:12,lg:7},children:e.jsx(l,{sx:{p:{xs:3,md:4},borderRadius:2,bgcolor:"background.paper",border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[1]},children:e.jsx(fe,{})})}),e.jsx(m,{size:{xs:12,lg:5},children:e.jsxs(l,{sx:{p:{xs:3,md:4},borderRadius:2,bgcolor:"background.paper",border:`1px solid ${a.palette.divider}`,boxShadow:a.shadows[1],height:"100%",position:"sticky",top:20},children:[e.jsx(r,{variant:"h6",fontWeight:"600",mb:3,children:"Account Details"}),e.jsx(ve,{})]})})]}),e.jsxs(l,{sx:{display:"flex",p:3,mt:4,borderRadius:2,bgcolor:a.palette.mode==="dark"?"primary.dark":"primary.50",border:`1px solid ${a.palette.mode==="dark"?a.palette.primary.main:a.palette.primary.light}`},children:[e.jsx(he,{sx:{color:a.palette.primary.main,mt:.5,mr:1.5}}),e.jsxs(r,{variant:"body2",color:"text.primary",children:["Detailed information on our instruments and trading conditions can be found on the"," ",e.jsx(r,{component:P,to:"/contract-specifications",sx:{color:"primary.main",textDecoration:"none",fontWeight:600,"&:hover":{textDecoration:"underline"}},children:"Contract Specifications"})," ","page."]})]})]})}export{ke as default};
