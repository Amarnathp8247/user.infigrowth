import{a6 as A,a7 as l,bc as R,cr as L,bd as U,a as V,Z,r as N,a8 as q,a9 as D,cv as E,j as r,S as k,G as u,V as m,T as o,W as F,aY as Y,aG as _,I as $,a4 as H,a_ as J,au as K,av as p,f as Q,b7 as X,B as ee,s as z}from"./index-D1uGZ479.js";import{S as re}from"./SearchableDropdown-CpkXW3b_.js";import{a as te}from"./allCountryName-B6BN2SR9.js";const ae=i=>R(a=>a===""||a===null?void 0:a,i.optional()),se=A({email:l().trim().email("Please type a valid email").min(1,"User name or email is required"),country:l().trim().min(1,"Please select your country"),referralCode:ae(l().trim().or(L("")).optional()),isMarketing:l().optional(),password:l().min(8,"Password must be at least 8 characters").max(15,"Password must be at most 15 characters").regex(/[a-z]/,"Must include at least one lowercase letter").regex(/[A-Z]/,"Must include at least one uppercase letter").regex(/\d/,"Must include at least one number").regex(/[^a-zA-Z0-9]/,"Must include at least one special character")}).transform(i=>Object.fromEntries(Object.entries(i).filter(([a,c])=>c!==void 0))),e={primaryTeal:"rgb(20, 184, 166)",primaryTealTransparent:"rgba(20, 184, 166, 0.2)",darkBlue:"#0d2b5e",accentPurple:"#9c27b0",white:"#ffffff",lightGray:"#f8fafc",mediumGray:"#e2e8f0",darkGray:"#64748b",textGray:"#475569"};function le(){let[i]=U();const a=i.get("referralCode")||null,c=i.get("isMarketing")||null,x=V(),W=Z(),[h,P]=N.useState(!1),G=()=>P(n=>!n),M={email:"",password:"",country:null,referralCode:a||"",isMarketing:c||"false"},{setValue:v,register:f,handleSubmit:B,watch:y,formState:{errors:d}}=q({resolver:D(se),defaultValues:M}),s=y("password"),g=(s==null?void 0:s.length)>=8&&s.length<=15,b=/[a-z]/.test(s)&&/[A-Z]/.test(s),j=/\d/.test(s),S=/[^a-zA-Z0-9]/.test(s),[I,{isLoading:T}]=E(),O=async n=>{var w,C;try{const t=await I(n).unwrap();t!=null&&t.status&&(W("/accounts/signIn"),x(z({open:!0,message:t==null?void 0:t.message,severity:"success"})))}catch(t){(w=t==null?void 0:t.data)!=null&&w.status||x(z({open:!0,message:((C=t==null?void 0:t.data)==null?void 0:C.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return r.jsxs(k,{component:"form",onSubmit:B(O),spacing:2,children:[r.jsxs(u,{container:!0,size:12,spacing:2,mt:"1rem",children:[r.jsxs(u,{size:{xs:12},children:[r.jsx(m,{sx:{mb:".5rem",fontSize:"14px",fontWeight:600,color:e.darkBlue},children:"Country / Region of residence *"}),r.jsx(re,{options:te,value:y("country"),onChange:n=>v("country",n,{shouldValidate:!0})}),d.country&&r.jsx(o,{sx:{color:e.accentPurple,fontSize:"12px",mt:.5,fontWeight:500},children:d.country.message})]}),r.jsxs(u,{size:{xs:12},children:[r.jsx(m,{sx:{mb:".5rem",fontSize:"14px",fontWeight:600,color:e.darkBlue},children:"Your email address *"}),r.jsx(F,{...f("email",{required:!0}),fullWidth:!0,size:"small",sx:{backgroundColor:e.white,borderRadius:"8px","& .MuiOutlinedInput-root":{color:e.textGray,"& fieldset":{borderColor:e.mediumGray},"&:hover fieldset":{borderColor:e.primaryTeal},"&.Mui-focused fieldset":{borderColor:e.primaryTeal,borderWidth:"2px"}}}}),d.email&&r.jsx(o,{sx:{color:e.accentPurple,fontSize:"12px",mt:.5,fontWeight:500},children:d.email.message})]}),r.jsxs(u,{size:{xs:12},children:[r.jsx(m,{sx:{mb:".5rem",fontSize:"14px",fontWeight:600,color:e.darkBlue},children:"Create a password for the account *"}),r.jsx(Y,{size:"small",fullWidth:!0,...f("password",{required:!0}),type:h?"text":"password",sx:{backgroundColor:e.white,borderRadius:"8px",color:e.textGray,"& .MuiOutlinedInput-notchedOutline":{borderColor:e.mediumGray},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:e.primaryTeal},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.primaryTeal,borderWidth:"2px"}},endAdornment:r.jsx(_,{position:"end",children:r.jsx($,{"aria-label":"toggle visibility",onClick:G,edge:"end",sx:{color:e.darkGray,"&:hover":{color:e.primaryTeal,backgroundColor:e.primaryTealTransparent}},children:h?r.jsx(H,{}):r.jsx(J,{})})})}),r.jsxs(k,{sx:{flexDirection:"row",justifyContent:"space-between",mt:2},children:[r.jsxs(K,{sx:{listStyleType:"disc",pl:2,py:0},children:[r.jsx(p,{sx:{display:"list-item",p:0,mb:.5},children:r.jsx(o,{sx:{fontSize:"12px",fontWeight:500,color:g?e.primaryTeal:e.accentPurple},children:"Between 8â€“15 characters"})}),r.jsx(p,{sx:{display:"list-item",p:0,mb:.5},children:r.jsx(o,{sx:{fontSize:"12px",fontWeight:500,color:b?e.primaryTeal:e.accentPurple},children:"At least one upper and one lower case letter"})}),r.jsx(p,{sx:{display:"list-item",p:0,mb:.5},children:r.jsx(o,{sx:{fontSize:"12px",fontWeight:500,color:j?e.primaryTeal:e.accentPurple},children:"At least one number"})}),r.jsx(p,{sx:{display:"list-item",p:0},children:r.jsx(o,{sx:{fontSize:"12px",fontWeight:500,color:S?e.primaryTeal:e.accentPurple},children:"At least one special character"})})]}),r.jsxs(o,{sx:{color:e.darkBlue,fontWeight:600,fontSize:"14px"},children:[[g,b,j,S].filter(Boolean).length,"/4"]})]})]})]}),r.jsx(Q,{fullWidth:!0,variant:"contained",type:"submit",disabled:T,sx:{my:"2rem",textTransform:"none",boxShadow:"none",backgroundColor:e.primaryTeal,color:e.white,py:".8rem",fontWeight:600,fontSize:"16px",borderRadius:"8px",transition:"all 0.3s ease","&:hover":{backgroundColor:e.darkBlue,boxShadow:`0 6px 12px ${e.primaryTealTransparent}`,transform:"translateY(-2px)"},"&:disabled":{backgroundColor:e.mediumGray,color:e.darkGray,transform:"none",boxShadow:"none"}},children:T?"Creating Account...":"Continue"}),a&&r.jsxs(o,{sx:{display:"flex",p:2,gap:".5rem",bgcolor:e.lightGray,border:`1px solid ${e.primaryTeal}`,borderRadius:"8px",color:e.darkBlue,fontWeight:600,alignItems:"center",fontSize:"14px",transition:"all 0.3s ease","&:hover":{backgroundColor:e.primaryTealTransparent,transform:"scale(1.02)"}},children:[r.jsx(X,{icon:"mdi:account-group",width:"20",height:"20",color:e.primaryTeal}),"Referral Code: ",r.jsx(ee,{component:"span",sx:{color:e.primaryTeal},children:a})]})]})}export{le as default};
