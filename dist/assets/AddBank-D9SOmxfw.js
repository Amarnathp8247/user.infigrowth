import{a6 as z,bk as S,a7 as m,bc as k,a as A,a8 as B,a9 as C,aD as v,j as e,S as h,C as I,T as n,G as i,V as o,W as d,f as T,s as p}from"./index-D1uGZ479.js";import{F}from"./FileUploadTextArea-DFT8qEOS.js";const E=r=>k(l=>l===""||l===null?void 0:l,r.optional()),P=z({holderName:m().min(1,"Please type account holder name").min(3,"Account holder name must be at least 3 characters long"),bankName:m().min(2,"Please type your bank name"),country:m().trim().min(1,"Please select your country"),accountNo:m().min(1,"Please type your account number").min(8,"Account number must be at least 8 characters").max(17,"Invalid Account number").regex(/^\d+$/,"Account number must contain only numbers"),ifscCode:m().min(1,"Please type your IFSC code").length(11,"IFSC code must be exactly 11 characters").regex(/^[A-Z]{4}0[A-Z0-9]{6}$/,"Invalid IFSC code"),ibanNo:E(m().min(15,"IBAN must be at least 15 characters").max(34,"IBAN cannot exceed 34 characters").regex(/^[A-Z]{2}\d{2}[A-Z0-9]{11,30}$/,"Invalid IBAN format")),bankAddress:m().min(2,"Please type your bank address"),image:S(File,{message:"Please upload a valid image file"}).refine(r=>r&&["image/jpeg","image/png"].includes(r.type),{message:"Only JPEG or PNG images are allowed"}).refine(r=>r&&r.size<=5*1024*1024,{message:"Image size must not exceed 5MB"})}).transform(r=>Object.fromEntries(Object.entries(r).filter(([l,t])=>t!==void 0)));function G(){const r=A(),l={holderName:"",accountNo:"",ifscCode:"",ibanNo:"",bankName:"",bankAddress:"",country:"",image:null},{register:t,handleSubmit:b,reset:f,setValue:g,formState:{errors:s}}=B({resolver:C(P),defaultValues:l}),[j,{isLoading:y}]=v(),N=async c=>{var u,x;try{const a=await j(c).unwrap();a!=null&&a.status&&(r(p({open:!0,message:a==null?void 0:a.message,severity:"success"})),f(l))}catch(a){(u=a==null?void 0:a.data)!=null&&u.status||r(p({open:!0,message:((x=a==null?void 0:a.data)==null?void 0:x.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsx(h,{children:e.jsxs(I,{children:[e.jsx(n,{sx:{fontSize:"2rem",fontWeight:"700",mb:"2rem"},children:"Add Bank Details"}),e.jsxs(h,{variant:"section",component:"form",onSubmit:b(N),sx:{p:"2rem",border:"1px solid #afb5b9",borderRadius:".8rem !important"},children:[e.jsxs(i,{container:!0,size:12,spacing:3,children:[e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Account holder Name *"}),e.jsx(d,{...t("holderName"),size:"small",fullWidth:!0,placeholder:"Enter account Name",variant:"outlined"}),s.holderName&&e.jsx(n,{color:"error",fontSize:"14px",children:s.holderName.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Account No. *"}),e.jsx(d,{...t("accountNo"),size:"small",fullWidth:!0,placeholder:"Enter account No.",variant:"outlined"}),s.accountNo&&e.jsx(n,{color:"error",fontSize:"14px",children:s.accountNo.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(o,{sx:{mb:".5rem"},children:"IFSC/Swift Code *"}),e.jsx(d,{...t("ifscCode"),size:"small",fullWidth:!0,placeholder:"Enter IFSC/Swift Code",variant:"outlined"}),s.ifscCode&&e.jsx(n,{color:"error",fontSize:"14px",children:s.ifscCode.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(o,{sx:{mb:".5rem"},children:"IBAN No."}),e.jsx(d,{...t("ibanNo"),size:"small",fullWidth:!0,placeholder:"Enter IBAN No.",variant:"outlined"}),s.ibanNo&&e.jsx(n,{color:"error",fontSize:"14px",children:s.ibanNo.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Bank Name *"}),e.jsx(d,{...t("bankName"),size:"small",fullWidth:!0,placeholder:"Enter bank name",variant:"outlined"}),s.bankName&&e.jsx(n,{color:"error",fontSize:"14px",children:s.bankName.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Bank address *"}),e.jsx(d,{...t("bankAddress"),size:"small",fullWidth:!0,placeholder:"Enter bank address",variant:"outlined"}),s.bankAddress&&e.jsx(n,{color:"error",fontSize:"14px",children:s.bankAddress.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Country *"}),e.jsx(d,{...t("country"),size:"small",fullWidth:!0,placeholder:"Enter your country name",variant:"outlined"}),s.country&&e.jsx(n,{color:"error",fontSize:"14px",children:s.country.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(o,{sx:{mb:".5rem"},children:"Book Bank *"}),e.jsx(F,{onChange:c=>g("image",c,{shouldValidate:!0}),extentionType:["image/jpeg","image/png"],acceptType:"image/jpeg,image/png,application/pdf"}),s.image&&e.jsx(n,{color:"error",fontSize:"14px",children:s.image.message})]})]}),e.jsx(T,{type:"submit",variant:"contained",disabled:y,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})})}export{G as default};
