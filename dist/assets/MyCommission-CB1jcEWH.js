import{c as R,j as s,T as l,a as Y,r as d,E as f,aA as B,u as E,C as H,B as C,H as k,J as V,S as g,V as y,K as j,M as G}from"./index-D1uGZ479.js";const t=R(),U=[t.accessor("loginId",{header:"MT5 Login ID",size:100}),t.display({id:"PositionID",header:"Position ID",Cell:({row:e})=>{var i,a;return s.jsx(l,{children:(a=(i=e==null?void 0:e.original)==null?void 0:i.orderDetails)==null?void 0:a.PositionID})},size:100}),t.display({id:"name",header:"From User",Cell:({row:e})=>{var i,a;return s.jsx(l,{children:(a=(i=e==null?void 0:e.original)==null?void 0:i.fromUserDetails)==null?void 0:a.name})},size:100}),t.accessor("symbol",{header:"Symbol",size:100}),t.display({id:"action",header:"Action",Cell:({row:e})=>{var i,a,c,o;return s.jsx(l,{sx:{color:((a=(i=e==null?void 0:e.original)==null?void 0:i.orderDetails)==null?void 0:a.Action)==1?"green":"red"},children:((o=(c=e==null?void 0:e.original)==null?void 0:c.orderDetails)==null?void 0:o.Action)==1?"Buy":"Sell"})},size:100}),t.display({id:"price",header:"Price",Cell:({row:e})=>{var i,a;return s.jsx(l,{children:(a=(i=e==null?void 0:e.original)==null?void 0:i.orderDetails)==null?void 0:a.Price})},size:100}),t.display({id:"ProfitRaw",header:"Profit",Cell:({row:e})=>{var i,a;return s.jsx(l,{children:(a=(i=e==null?void 0:e.original)==null?void 0:i.orderDetails)==null?void 0:a.ProfitRaw})},size:100}),t.display({id:"volume",header:"Volume",Cell:({row:e})=>{var i,a;return s.jsx(l,{children:((a=(i=e==null?void 0:e.original)==null?void 0:i.orderDetails)==null?void 0:a.Volume)/1e4})},size:100}),t.accessor("comissionAmount",{header:"Comission amount",size:100,Cell:({row:e})=>{var a;const i=(a=e==null?void 0:e.original)==null?void 0:a.comissionAmount;return Number(i||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:4})}}),t.display({id:"level",header:"Level",Cell:({row:e})=>{var i,a;return s.jsx(l,{children:(a=(i=e==null?void 0:e.original)==null?void 0:i.orderDetails)==null?void 0:a.level})},size:100}),t.accessor("TimeCreate",{header:"Created AT",size:200,Cell:({row:e})=>{const i=e.original.orderDetails.Time,c=new Date(i*1e3).toLocaleString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",","");return s.jsx(l,{children:c})}})];function J(){var x,D;Y();const[e,i]=d.useState({pageIndex:0,pageSize:10}),[a,c]=d.useState(""),[o,b]=d.useState({status:"",transactionType:"",paymentMethod:"",fromDate:null,toDate:null}),z=o.fromDate?f(o.fromDate).format("YYYY-MM-DD"):void 0,M=o.toDate?f(o.toDate).format("YYYY-MM-DD"):void 0,{data:r,isLoading:P,isError:m,error:u}=B({page:e.pageIndex+1,sizePerPage:e.pageSize,search:a,...o,fromDate:z,toDate:M}),T=(x=u==null?void 0:u.data)==null?void 0:x.message,h=((D=r==null?void 0:r.data)==null?void 0:D.comissionTrxList)||[],A=d.useMemo(()=>U,[]),F=d.useMemo(()=>h,[h]),S=d.useMemo(()=>{var n;return((n=r==null?void 0:r.data)==null?void 0:n.totalRecords)||0},[r]),v=E({columns:A,data:m?[]:F,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:S,state:{pagination:e,globalFilter:a,isLoading:P,showAlertBanner:m},onPaginationChange:i,onGlobalFilterChange:c,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiToolbarAlertBannerProps:m?{color:"error",children:T||"Error loading transactions."}:void 0}),p=d.useCallback((n,L)=>{b(I=>({...I,[n]:L}))},[]);return s.jsxs(H,{children:[s.jsx(l,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"My commission list"}),s.jsx(C,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:2,flexWrap:"wrap",mb:4},children:s.jsx(k,{dateAdapter:V,children:s.jsxs(C,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[s.jsxs(g,{children:[s.jsx(y,{sx:{mb:.5,fontSize:12},children:"From"}),s.jsx(j,{value:o.fromDate,onChange:n=>p("fromDate",n),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]}),s.jsxs(g,{children:[s.jsx(y,{sx:{mb:.5,fontSize:12},children:"To"}),s.jsx(j,{value:o.toDate,onChange:n=>p("toDate",n),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]})]})})}),s.jsx(g,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:s.jsx(G,{table:v})})]})}export{J as default};
