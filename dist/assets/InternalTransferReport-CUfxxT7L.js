import{r as x,m as D,E as i,u as R,j as e,C as S,T as y,H as A,J as T,B as f,K as g,S as b,M,c as I,f as c,N as d,O as u,Q as k}from"./index-D1uGZ479.js";import{f as p}from"./chunk-X5AUZP7O-CbVuvZi8.js";const C=(a=10)=>Array.from({length:a},(r,t)=>({id:t+1,fromAccount:p.finance.accountNumber(),toAccount:p.finance.accountNumber(),amountUSD:p.finance.amount(100,5e3,2),date:p.date.past().toISOString().split("T")[0]})),h=C(20),s=I(),z=[s.accessor("id",{header:"ID",size:40}),s.accessor("fromAccount",{header:"From Account",size:150}),s.accessor("toAccount",{header:"To Account",size:150}),s.accessor("amountUSD",{header:"Amount IN USD",size:120}),s.accessor("date",{header:"Date",size:150})],m=a=>{const r=a.map(l=>l.original),t=u.json_to_sheet(r),n=u.book_new();u.book_append_sheet(n,t,"Sheet1"),k(n,"data.xlsx")};function F(){const[a,r]=x.useState(null),[t,n]=x.useState(null),l=D("(min-width:450px)"),w=x.useMemo(()=>!a||!t?h:h.filter(o=>i(o.date).isAfter(i(a).subtract(1,"day"))&&i(o.date).isBefore(i(t).add(1,"day"))),[a,t]),j=R({columns:z,data:w,enableRowSelection:!0,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:o})=>e.jsxs(f,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:[e.jsx(c,{onClick:()=>m(h),startIcon:e.jsx(d,{}),sx:{color:"primary.main"},children:"Export All Data"}),e.jsx(c,{disabled:o.getPrePaginationRowModel().rows.length===0,onClick:()=>m(o.getPrePaginationRowModel().rows),startIcon:e.jsx(d,{}),sx:{color:"primary.main"},children:"Export All Rows"}),e.jsx(c,{disabled:o.getRowModel().rows.length===0,onClick:()=>m(o.getRowModel().rows),startIcon:e.jsx(d,{}),sx:{color:"primary.main"},children:"Export Page Rows"}),e.jsx(c,{disabled:!o.getIsSomeRowsSelected()&&!o.getIsAllRowsSelected(),onClick:()=>m(o.getSelectedRowModel().rows),startIcon:e.jsx(d,{}),sx:{color:"primary.main"},children:"Export Selected Rows"})]})});return e.jsxs(S,{children:[e.jsx(y,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Internal Transfer Report"}),e.jsx(A,{dateAdapter:T,children:e.jsxs(f,{sx:{display:"flex",gap:l?"2rem":"1rem",flexDirection:l?"row":"column"},children:[e.jsx(g,{label:"From Date",value:a,onChange:o=>r(o),slotProps:{textField:{size:"small"}}}),e.jsx(g,{label:"To Date",value:t,onChange:o=>n(o),slotProps:{textField:{size:"small"}}})]})}),e.jsx(b,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(M,{table:j})})]})}export{F as default};
