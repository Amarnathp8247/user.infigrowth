import{a6 as z,a7 as o,cr as m,a as v,q as P,a8 as N,a9 as E,r as T,bC as w,j as e,S as W,T as t,U as C,G as i,V as n,W as c,f as F,s as b}from"./index-D1uGZ479.js";import{C as U}from"./Card-k7dLw_5a.js";const V=z({fullName:o().min(1,"Please type your name").min(3,"Name must be at least 3 characters long").or(m("")),email:o().email("Please type a valid email").min(2,"Please type your bank name").or(m("")),country:o().trim().min(1,"Please select your country").or(m("")),mobile:o().regex(/^[0-9]{10,15}$/,"Please enter a valid mobile number").or(m(""))});function M(){const x=v(),{userData:s}=P(d=>d.auth),h={fullName:"",email:"",mobile:"",country:""},{register:l,handleSubmit:y,reset:u,setValue:k,formState:{errors:a}}=N({resolver:E(V),defaultValues:h});T.useEffect(()=>{u({fullName:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",mobile:(s==null?void 0:s.mobile)||"",country:(s==null?void 0:s.country)||""})},[s,u]);const[j,{isLoading:g}]=w(),S=async d=>{var p,f;try{const r=await j(d).unwrap();r!=null&&r.status&&(x(b({open:!0,message:r==null?void 0:r.message,severity:"success"})),u(h))}catch(r){(p=r==null?void 0:r.data)!=null&&p.status||x(b({open:!0,message:((f=r==null?void 0:r.data)==null?void 0:f.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(W,{mt:"2rem",children:[e.jsx(t,{sx:{fontSize:"1.5rem",fontWeight:"700",mb:"1.5rem"},children:"Update profile"}),e.jsxs(U,{sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"1.2rem",padding:{xs:"1rem",md:"2rem"}},component:"form",onSubmit:y(S),children:[e.jsx(t,{mx:{xs:"1rem",md:"0"},children:"Fill Details"}),e.jsx(C,{sx:{my:"1.2rem"}}),e.jsxs(i,{container:!0,size:12,spacing:2,children:[e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Name *"}),e.jsx(c,{...l("fullName"),size:"small",fullWidth:!0,placeholder:"Enter your name",variant:"outlined"}),a.fullName&&e.jsx(t,{color:"error",fontSize:"14px",children:a.fullName.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Email *"}),e.jsx(c,{...l("email"),size:"small",fullWidth:!0,placeholder:"Enter your email",variant:"outlined"}),a.email&&e.jsx(t,{color:"error",fontSize:"14px",children:a.email.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Mobile *"}),e.jsx(c,{...l("mobile"),size:"small",fullWidth:!0,placeholder:"Enter your mobile no.",variant:"outlined"}),a.mobile&&e.jsx(t,{color:"error",fontSize:"14px",children:a.mobile.message})]}),e.jsxs(i,{item:!0,size:{xs:12,sm:6,md:4},children:[e.jsx(n,{sx:{mb:".5rem"},children:"Country *"}),e.jsx(c,{...l("country"),size:"small",fullWidth:!0,placeholder:"Enter your country name",variant:"outlined"}),a.country&&e.jsx(t,{color:"error",fontSize:"14px",children:a.country.message})]})]}),e.jsx(F,{type:"submit",variant:"contained",disabled:g,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}export{M as default};
