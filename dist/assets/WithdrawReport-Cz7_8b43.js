import{r as x,m as j,E as d,u as D,j as e,C as R,T as S,H as T,J as M,B as w,K as g,S as C,M as b,c as k,f as c,N as m,O as h,Q as z}from"./index-D1uGZ479.js";import{f as r}from"./chunk-X5AUZP7O-CbVuvZi8.js";const E=(o=10)=>Array.from({length:o},(n,s)=>({id:s+1,mt5Id:r.finance.accountNumber(),amountUSD:r.finance.amount(100,5e3,2),withdrawTo:r.helpers.arrayElement(["Bank Account","E-Wallet","Crypto Wallet"]),paymentMethod:r.helpers.arrayElement(["Bank Transfer","Credit Card","PayPal","Crypto"]),note:r.lorem.sentence(),comment:r.lorem.words(5),status:r.helpers.arrayElement(["Pending","Completed","Failed"]),date:r.date.past().toISOString().split("T")[0]})),u=E(20),t=k(),I=[t.accessor("id",{header:"ID",size:40}),t.accessor("mt5Id",{header:"MT5 ID",size:100}),t.accessor("amountUSD",{header:"Amount IN USD",size:120}),t.accessor("withdrawTo",{header:"Withdraw To",size:150}),t.accessor("paymentMethod",{header:"Payment Method",size:150}),t.accessor("note",{header:"Note",size:200}),t.accessor("comment",{header:"Comment",size:200}),t.accessor("status",{header:"Status",size:100}),t.accessor("date",{header:"Date",size:150})],p=o=>{const n=o.map(i=>i.original),s=h.json_to_sheet(n),l=h.book_new();h.book_append_sheet(l,s,"Sheet1"),z(l,"data.xlsx")};function F(){const[o,n]=x.useState(null),[s,l]=x.useState(null),i=j("(min-width:450px)"),y=x.useMemo(()=>!o||!s?u:u.filter(a=>d(a.date).isAfter(d(o).subtract(1,"day"))&&d(a.date).isBefore(d(s).add(1,"day"))),[o,s]),f=D({columns:I,data:y,enableRowSelection:!0,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:a})=>e.jsxs(w,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:[e.jsx(c,{onClick:()=>p(u),startIcon:e.jsx(m,{}),sx:{color:"primary.main"},children:"Export All Data"}),e.jsx(c,{disabled:a.getPrePaginationRowModel().rows.length===0,onClick:()=>p(a.getPrePaginationRowModel().rows),startIcon:e.jsx(m,{}),sx:{color:"primary.main"},children:"Export All Rows"}),e.jsx(c,{disabled:a.getRowModel().rows.length===0,onClick:()=>p(a.getRowModel().rows),startIcon:e.jsx(m,{}),sx:{color:"primary.main"},children:"Export Page Rows"}),e.jsx(c,{disabled:!a.getIsSomeRowsSelected()&&!a.getIsAllRowsSelected(),onClick:()=>p(a.getSelectedRowModel().rows),startIcon:e.jsx(m,{}),sx:{color:"primary.main"},children:"Export Selected Rows"})]})});return e.jsxs(R,{children:[e.jsx(S,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Withdraw Report"}),e.jsx(T,{dateAdapter:M,children:e.jsxs(w,{sx:{display:"flex",gap:i?"2rem":"1rem",flexDirection:i?"row":"column"},children:[e.jsx(g,{label:"From Date",value:o,onChange:a=>n(a),slotProps:{textField:{size:"small"}}}),e.jsx(g,{label:"To Date",value:s,onChange:a=>l(a),slotProps:{textField:{size:"small"}}})]})}),e.jsx(C,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(b,{table:f})})]})}export{F as default};
