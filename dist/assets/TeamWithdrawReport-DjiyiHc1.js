import{c as F,j as e,T as o,r as l,E as T,aC as v,u as W,C as Y,B as x,S as c,V as u,H as k,J as I,K as y,M as V}from"./index-D1uGZ479.js";import{S as B}from"./Selector-QPTNyfun.js";import"./KeyboardArrowDown-rOuSl0HJ.js";const s=F(),H=[s.accessor("mt5Login",{header:"MT5 Login",Cell:({row:t})=>{const a=t.original.mt5Login;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),s.accessor("amount",{header:"Amount",Cell:({row:t})=>{const a=t.original.amount;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),s.accessor("transactionType",{header:"Transaction Type",Cell:({row:t})=>{const a=t.original.transactionType;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),s.accessor("paymentMethods",{header:"Payment Methods",Cell:({row:t})=>{const a=t.original.paymentMethods;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),s.accessor("referrenceNo",{header:"Transaction Reference",size:200,Cell:({row:t})=>{const a=t.original.referrenceNo;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),s.accessor("remark",{header:"Remark",size:250,Cell:({row:t})=>{const a=t.original.remark;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),s.accessor("status",{header:"Status",Cell:({row:t})=>{const a=t.original.status;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),s.accessor("createdAt",{header:"Date",Cell:({row:t})=>e.jsx(o,{children:new Date(t.original.createdAt).toLocaleString()})})],N=["WALLET-WITHDRAW","WALLET-DEPOSIT"];function K(){var f,j;const[t,a]=l.useState({pageIndex:0,pageSize:10}),[h,D]=l.useState(""),[n,S]=l.useState({transactionType:"",fromDate:null,toDate:null}),C=n.fromDate?T(n.fromDate).format("YYYY-MM-DD"):void 0,b=n.toDate?T(n.toDate).format("YYYY-MM-DD"):void 0,{data:i,isLoading:z,isError:m,error:d}=v({page:t.pageIndex+1,sizePerPage:t.pageSize,search:h,...n,fromDate:C,toDate:b}),M=(f=d==null?void 0:d.data)==null?void 0:f.message,g=((j=i==null?void 0:i.data)==null?void 0:j.trxList)||[],E=l.useMemo(()=>H,[]),R=l.useMemo(()=>g,[g]),A=l.useMemo(()=>{var r;return((r=i==null?void 0:i.data)==null?void 0:r.totalRecords)||0},[i]),w=W({columns:E,data:m?[]:R,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:A,state:{pagination:t,globalFilter:h,isLoading:z,showAlertBanner:m},onPaginationChange:a,onGlobalFilterChange:D,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiToolbarAlertBannerProps:m?{color:"error",children:M||"Error loading transactions."}:void 0}),p=l.useCallback((r,L)=>{S(P=>({...P,[r]:L}))},[]);return e.jsxs(Y,{children:[e.jsx(o,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Team Transaction Report"}),e.jsxs(x,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:2,flexWrap:"wrap",mb:4},children:[e.jsx(x,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2},children:e.jsxs(c,{children:[e.jsx(u,{sx:{mb:.5,fontSize:12},children:"Transaction Type"}),e.jsx(B,{items:N,value:n.transactionType,onChange:r=>p("transactionType",r.target.value),width:{xs:"100%",sm:200}})]})}),e.jsx(k,{dateAdapter:I,children:e.jsxs(x,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(c,{children:[e.jsx(u,{sx:{mb:.5,fontSize:12},children:"From"}),e.jsx(y,{value:n.fromDate,onChange:r=>p("fromDate",r),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]}),e.jsxs(c,{children:[e.jsx(u,{sx:{mb:.5,fontSize:12},children:"To"}),e.jsx(y,{value:n.toDate,onChange:r=>p("toDate",r),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]})]})})]}),e.jsx(c,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(V,{table:w})})]})}export{K as default};
