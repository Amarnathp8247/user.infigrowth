import{c as k,j as e,T as o,r as l,E as j,aC as F,u as L,C as w,B as p,H as V,J as Y,S as x,V as y,K as z,M as I}from"./index-D1uGZ479.js";const n=k(),H=[n.accessor("mt5Login",{header:"MT5 Login",size:100}),n.accessor("amount",{header:"Amount",size:120,Cell:({row:t})=>{const a=t.original.amount;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),n.display({id:"image",header:"Deposit Proof",Cell:({row:t})=>{var c;const a=(c=t==null?void 0:t.original)==null?void 0:c.image;return a?e.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:a,alt:"Bankbook",style:{width:"50px",height:"auto",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})},size:100}),n.accessor("transactionType",{header:"Transaction Type",size:150,Cell:({row:t})=>{const a=t.original.transactionType;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),n.accessor("paymentMethods",{header:"Payment Methods",size:150,Cell:({row:t})=>{const a=t.original.paymentMethods;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),n.accessor("transactionReference",{header:"Transaction Reference",size:200,Cell:({row:t})=>{const a=t.original.transactionReference;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),n.accessor("remark",{header:"Remark",size:100,Cell:({row:t})=>{const a=t.original.remark;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),n.accessor("status",{header:"Status",size:100,Cell:({row:t})=>{const a=t.original.status;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),n.accessor("approvedBy",{header:"Approved By",size:100,Cell:({row:t})=>{const a=t.original.approvedBy;return a?e.jsx(o,{children:a}):e.jsx(o,{fontSize:"12px",component:"em",children:"Empty"})}}),n.accessor("createdAt",{header:"Date",size:250,Cell:({row:t})=>e.jsx(o,{children:new Date(t.original.createdAt).toLocaleString()})})];function G(){var g,f;const[t,a]=l.useState({pageIndex:0,pageSize:10}),[c,D]=l.useState(""),[s,b]=l.useState({transactionType:"DEPOSIT",fromDate:null,toDate:null}),C=s.fromDate?j(s.fromDate).format("YYYY-MM-DD"):void 0,S=s.toDate?j(s.toDate).format("YYYY-MM-DD"):void 0,{data:i,isLoading:T,isError:d,error:m}=F({page:t.pageIndex+1,sizePerPage:t.pageSize,search:c,...s,fromDate:C,toDate:S}),M=(g=m==null?void 0:m.data)==null?void 0:g.message,u=((f=i==null?void 0:i.data)==null?void 0:f.trxList)||[],v=l.useMemo(()=>H,[]),E=l.useMemo(()=>u,[u]),R=l.useMemo(()=>{var r;return((r=i==null?void 0:i.data)==null?void 0:r.totalRecords)||0},[i]),A=L({columns:v,data:d?[]:E,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:R,state:{pagination:t,globalFilter:c,isLoading:T,showAlertBanner:d},onPaginationChange:a,onGlobalFilterChange:D,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiToolbarAlertBannerProps:d?{color:"error",children:M||"Error loading transactions."}:void 0}),h=l.useCallback((r,B)=>{b(P=>({...P,[r]:B}))},[]);return e.jsxs(w,{children:[e.jsx(o,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Live Account Report"}),e.jsxs(p,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},gap:2,flexWrap:"wrap",mb:4},children:[e.jsx(p,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2}}),e.jsx(V,{dateAdapter:Y,children:e.jsxs(p,{sx:{display:"flex",gap:2,flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(x,{children:[e.jsx(y,{sx:{mb:.5,fontSize:12},children:"From"}),e.jsx(z,{value:s.fromDate,onChange:r=>h("fromDate",r),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]}),e.jsxs(x,{children:[e.jsx(y,{sx:{mb:.5,fontSize:12},children:"To"}),e.jsx(z,{value:s.toDate,onChange:r=>h("toDate",r),slotProps:{textField:{size:"small"},field:{clearable:!0}}})]})]})})]}),e.jsx(x,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(I,{table:A})})]})}export{G as default};
