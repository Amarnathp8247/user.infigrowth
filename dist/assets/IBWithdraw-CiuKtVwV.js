import{q as z,b as T,a as C,a8 as k,a9 as F,a6 as L,aB as U,j as t,S as G,C as N,T as o,U as q,G as p,B as A,V as b,aj as E,W as P,f as R,a7 as V,s as j}from"./index-D1uGZ479.js";import{C as M}from"./Card-k7dLw_5a.js";const Q=L({amount:V().min(2,"Please type your deposit amount")});function O(){var d,c,l,u;const{token:f}=z(i=>i.auth),{data:e,isLoading:s}=T(void 0,{skip:!f}),g=!s&&((c=(d=e==null?void 0:e.data)==null?void 0:d.assetData)==null?void 0:c.totalIBIncome),w=!s&&((u=(l=e==null?void 0:e.data)==null?void 0:l.assetData)==null?void 0:u.totalIBWithdrawl),I=g-w,r=C(),n={amount:""},{register:S,handleSubmit:y,reset:B,watch:H,formState:{errors:m}}=k({resolver:F(Q),defaultValues:n}),[W,{isLoading:v}]=U(),D=async i=>{var x,h;try{const a=await W(i).unwrap();a!=null&&a.status&&(r(j({open:!0,message:a==null?void 0:a.message,severity:"success"})),B(n))}catch(a){(x=a==null?void 0:a.data)!=null&&x.status||r(j({open:!0,message:((h=a==null?void 0:a.data)==null?void 0:h.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return t.jsx(G,{children:t.jsxs(N,{children:[t.jsx(o,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"IB Withdraw"}),t.jsxs(M,{component:"form",onSubmit:y(D),sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"1.2rem",padding:{xs:"1rem",md:"2rem"}},children:[t.jsx(o,{mx:{xs:"1rem",md:"0"},children:"Fill Details"}),t.jsx(q,{sx:{my:"1.2rem"}}),t.jsx(p,{container:!0,size:12,spacing:3,children:t.jsxs(p,{size:{xs:12,sm:6},children:[t.jsxs(A,{sx:{display:"flex",justifyContent:"space-between"},children:[t.jsx(b,{sx:{mb:".5rem"},children:"Amount IN USD *"}),t.jsx(b,{sx:{mb:".5rem"},children:s?t.jsx(E,{}):I})]}),t.jsx(P,{...S("amount",{required:!0}),size:"small",fullWidth:!0,placeholder:"Enter Amount IN USD",variant:"outlined"}),m.amount&&t.jsx(o,{color:"error",fontSize:"14px",children:m.amount.message})]})}),t.jsx(R,{type:"submit",variant:"contained",disabled:v,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",color:"white",mt:"1.5rem","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})})}export{O as default};
