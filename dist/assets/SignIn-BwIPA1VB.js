import{r as f,a8 as z,a9 as O,a6 as B,a as M,cs as P,j as a,S as v,G as i,V as b,W as L,T as d,aY as R,aG as N,I as A,a_ as D,a4 as V,f as q,B as E,L as F,a7 as y,ct as U,s as g,cu as Y}from"./index-D1uGZ479.js";const e={primaryTeal:"rgb(20, 184, 166)",primaryTealTransparent:"rgba(20, 184, 166, 0.2)",darkBlue:"#0d2b5e",accentPurple:"#9c27b0",white:"#ffffff",mediumGray:"#e2e8f0",darkGray:"#64748b",textGray:"#475569"},_=B({userName:y().trim().min(1,"User name or email is required"),password:y().min(8,"Password must be at least 8 characters")});function H(){const[o,w]=f.useState(!1),S=()=>w(n=>!n),k={userName:"",password:""},{register:l,handleSubmit:T,formState:{errors:t}}=z({resolver:O(_),defaultValues:k}),j=f.useRef(null),s=M(),[I,{isLoading:u}]=P(),C=async n=>{var c,m,p,x,h;try{const r=await I(n).unwrap();if(r!=null&&r.status){const G=(c=r==null?void 0:r.data)==null?void 0:c.token,W=(p=(m=r==null?void 0:r.data)==null?void 0:m.userData)==null?void 0:p.id;j.current=U({token:G,dispatch:s,currentUserId:W}),s(g({open:!0,message:r==null?void 0:r.message,severity:"success"})),s(Y(!0))}}catch(r){(x=r==null?void 0:r.data)!=null&&x.status||s(g({open:!0,message:((h=r==null?void 0:r.data)==null?void 0:h.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return a.jsxs(v,{component:"form",onSubmit:T(C),spacing:2,children:[a.jsxs(i,{container:!0,size:12,spacing:2,children:[a.jsxs(i,{size:{xs:12},children:[a.jsx(b,{sx:{mb:".5rem",fontSize:"14px",fontWeight:500,color:e.darkBlue},children:"Email Address"}),a.jsx(L,{...l("userName",{required:!0}),fullWidth:!0,size:"small",sx:{backgroundColor:e.white,borderRadius:1,"& .MuiOutlinedInput-root":{color:e.textGray,"& fieldset":{borderColor:e.mediumGray},"&:hover fieldset":{borderColor:e.primaryTeal},"&.Mui-focused fieldset":{borderColor:e.primaryTeal,borderWidth:"2px"}},"& .MuiInputLabel-root":{color:e.textGray},"& .MuiInputLabel-root.Mui-focused":{color:e.primaryTeal}}}),t.userName&&a.jsx(d,{sx:{color:e.accentPurple,fontSize:"12px",mt:.5,fontWeight:500},children:t.userName.message})]}),a.jsxs(i,{size:{xs:12},children:[a.jsx(b,{sx:{mb:".5rem",fontSize:"14px",fontWeight:500,color:e.darkBlue},children:"Password"}),a.jsx(R,{...l("password",{required:!0}),size:"small",fullWidth:!0,type:o?"text":"password",sx:{backgroundColor:e.white,borderRadius:1,color:e.textGray,"& .MuiOutlinedInput-notchedOutline":{borderColor:e.mediumGray},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:e.primaryTeal},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.primaryTeal,borderWidth:"2px"}},endAdornment:a.jsx(N,{position:"end",children:a.jsx(A,{"aria-label":o?"hide the password":"display the password",onClick:S,edge:"end",sx:{color:e.darkGray,"&:hover":{color:e.primaryTeal,backgroundColor:e.primaryTealTransparent}},children:o?a.jsx(D,{}):a.jsx(V,{})})})}),t.password&&a.jsx(d,{sx:{color:e.accentPurple,fontSize:"12px",mt:.5,fontWeight:500},children:t.password.message})]})]}),a.jsx(q,{fullWidth:!0,variant:"contained",type:"submit",disabled:u,sx:{mt:3,textTransform:"none",boxShadow:"none",backgroundColor:e.primaryTeal,color:e.white,py:1.2,fontWeight:600,fontSize:"16px",borderRadius:"8px",transition:"all 0.3s ease","&:hover":{backgroundColor:e.darkBlue,boxShadow:`0 6px 12px ${e.primaryTealTransparent}`,transform:"translateY(-2px)"},"&:disabled":{backgroundColor:e.mediumGray,color:e.darkGray,transform:"none",boxShadow:"none"}},children:u?"Signing In...":"Continue"}),a.jsx(E,{sx:{textAlign:"center",mt:2},children:a.jsx(d,{component:F,to:"/accounts/resetPassword",sx:{textDecoration:"none",color:e.primaryTeal,fontWeight:600,fontSize:"14px",transition:"all 0.3s ease","&:hover":{textDecoration:"underline",color:e.darkBlue,transform:"scale(1.05)"}},children:"I forgot my password"})})]})}export{H as default};
