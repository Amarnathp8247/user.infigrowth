import{r as x,m as f,E as d,u as j,j as e,C as R,T as S,H as M,J as C,B as g,K as w,S as T,M as b,c as I,f as c,N as m,O as h,Q as P}from"./index-D1uGZ479.js";import{f as r}from"./chunk-X5AUZP7O-CbVuvZi8.js";const k=(o=10)=>Array.from({length:o},(n,t)=>({id:t+1,mt5Id:r.finance.accountNumber(),amountUSD:r.finance.amount(100,5e3,2),paymentMethod:r.helpers.arrayElement(["Bank Transfer","Credit Card","PayPal","Crypto"]),note:r.lorem.sentence(),comment:r.lorem.words(5),status:r.helpers.arrayElement(["Pending","Completed","Failed"]),date:r.date.past().toISOString().split("T")[0]})),u=k(20),s=I(),z=[s.accessor("id",{header:"ID",size:40}),s.accessor("mt5Id",{header:"MT5 ID",size:100}),s.accessor("amountUSD",{header:"Amount IN USD",size:120}),s.accessor("paymentMethod",{header:"Payment Method",size:150}),s.accessor("note",{header:"Note",size:200}),s.accessor("comment",{header:"Comment",size:200}),s.accessor("status",{header:"Status",size:100}),s.accessor("date",{header:"Date",size:150})],p=o=>{const n=o.map(i=>i.original),t=h.json_to_sheet(n),l=h.book_new();h.book_append_sheet(l,t,"Sheet1"),P(l,"data.xlsx")};function F(){const[o,n]=x.useState(null),[t,l]=x.useState(null),i=f("(min-width:450px)"),y=x.useMemo(()=>!o||!t?u:u.filter(a=>d(a.date).isAfter(d(o).subtract(1,"day"))&&d(a.date).isBefore(d(t).add(1,"day"))),[o,t]),D=j({columns:z,data:y,enableRowSelection:!0,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:a})=>e.jsxs(g,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:[e.jsx(c,{onClick:()=>p(u),startIcon:e.jsx(m,{}),sx:{color:"primary.main"},children:"Export All Data"}),e.jsx(c,{disabled:a.getPrePaginationRowModel().rows.length===0,onClick:()=>p(a.getPrePaginationRowModel().rows),startIcon:e.jsx(m,{}),sx:{color:"primary.main"},children:"Export All Rows"}),e.jsx(c,{disabled:a.getRowModel().rows.length===0,onClick:()=>p(a.getRowModel().rows),startIcon:e.jsx(m,{}),sx:{color:"primary.main"},children:"Export Page Rows"}),e.jsx(c,{disabled:!a.getIsSomeRowsSelected()&&!a.getIsAllRowsSelected(),onClick:()=>p(a.getSelectedRowModel().rows),startIcon:e.jsx(m,{}),sx:{color:"primary.main"},children:"Export Selected Rows"})]})});return e.jsxs(R,{children:[e.jsx(S,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Deposit Report"}),e.jsx(M,{dateAdapter:C,children:e.jsxs(g,{sx:{display:"flex",gap:i?"2rem":"1rem",flexDirection:i?"row":"column"},children:[e.jsx(w,{label:"From Date",value:o,onChange:a=>n(a),slotProps:{textField:{size:"small"}}}),e.jsx(w,{label:"To Date",value:t,onChange:a=>l(a),slotProps:{textField:{size:"small"}}})]})}),e.jsx(T,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(b,{table:D})})]})}export{F as default};
