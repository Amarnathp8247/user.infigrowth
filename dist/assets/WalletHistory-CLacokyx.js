import{r as l,m as b,E as i,O as m,Q as T,u as k,j as e,C,T as w,H as A,J as I,B as c,K as j,S as v,M as z,c as E,f as d,N as p}from"./index-D1uGZ479.js";import{f as r}from"./chunk-X5AUZP7O-CbVuvZi8.js";const P=(t=10)=>Array.from({length:t},(u,a)=>({id:a+1,method:r.finance.accountName(),toDeposit:r.helpers.arrayElement(["Savings","Checking","Investment","Crypto Wallet"]),amountUSD:r.finance.amount(100,5e3,2),note:r.lorem.sentence(),date:r.date.past().toISOString().split("T")[0]})),h=P(20),s=E(),Y=[s.accessor("id",{header:"ID",size:40}),s.accessor("method",{header:"Method",size:150}),s.accessor("toDeposit",{header:"To Deposit",size:150}),s.accessor("amountUSD",{header:"Amount IN USD",size:120}),s.accessor("note",{header:"Note",size:200}),s.accessor("date",{header:"Date",size:150})];function B(){const[t,u]=l.useState(null),[a,f]=l.useState(null),g=b("(min-width:450px)"),x=l.useMemo(()=>!t||!a?h:h.filter(o=>i(o.date,"YYYY-MM-DD").isAfter(i(t).subtract(1,"day"))&&i(o.date,"YYYY-MM-DD").isBefore(i(a).add(1,"day"))),[t,a,h]),n=l.useCallback(o=>{const S=o.map(R=>R.original),M=m.json_to_sheet(S),D=m.book_new();m.book_append_sheet(D,M,"Sheet1"),T(D,"wallet_history.xlsx")},[]),y=k({columns:Y,data:x,enableRowSelection:!0,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:o})=>e.jsxs(c,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:[e.jsx(d,{onClick:()=>n(x),startIcon:e.jsx(p,{}),sx:{color:"primary.main"},children:"Export All Data"}),e.jsx(d,{disabled:o.getPrePaginationRowModel().rows.length===0,onClick:()=>n(o.getPrePaginationRowModel().rows),startIcon:e.jsx(p,{}),sx:{color:"primary.main"},children:"Export All Rows"}),e.jsx(d,{disabled:o.getRowModel().rows.length===0,onClick:()=>n(o.getRowModel().rows),startIcon:e.jsx(p,{}),sx:{color:"primary.main"},children:"Export Page Rows"}),e.jsx(d,{disabled:!o.getIsSomeRowsSelected()&&!o.getIsAllRowsSelected(),onClick:()=>n(o.getSelectedRowModel().rows),startIcon:e.jsx(p,{}),sx:{color:"primary.main"},children:"Export Selected Rows"})]})});return e.jsxs(C,{children:[e.jsx(w,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Wallet History"}),e.jsx(A,{dateAdapter:I,children:e.jsxs(c,{sx:{display:"flex",gap:g?"2rem":"1rem",flexDirection:g?"row":"column"},children:[e.jsx(c,{children:e.jsx(j,{label:"From Date",value:t,onChange:o=>u(o),slotProps:{textField:{size:"small"}}})}),e.jsx(c,{children:e.jsx(j,{label:"To Date",value:a,onChange:o=>f(o),slotProps:{textField:{size:"small"}}})})]})}),e.jsx(v,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:x.length===0?e.jsx(w,{textAlign:"center",sx:{py:4},children:"No data available for the selected date range."}):e.jsx(z,{table:y})})]})}export{B as default};
